{"version":3,"file":"js/1805.c9da9567.js","mappings":"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","sources":["webpack://Osboha180/./src/API/services/notifications.service.js","webpack://Osboha180/./src/API/services/profile.images.service.js","webpack://Osboha180/./src/components/user/UserAvatar.vue","webpack://Osboha180/./src/components/user/UserAvatar.vue?8c7d","webpack://Osboha180/./src/views/OsbohaMain/Notifications/Notification.vue","webpack://Osboha180/./src/views/OsbohaMain/Notifications/Notification.vue?d665"],"sourcesContent":["import { handleError } from \"vue\";\nimport { api } from \"../Intercepter\";\n\nclass Notifications {\n  constructor() {\n    this.prefix = \"notifications\";\n  }\n\n  /**\n   * list all Unread Notifications.\n   * @return Unread Notifications\n   */\n  async listUnreadNotification() {\n    try {\n      const response = await api.get(`${this.prefix}/un-read`);\n      return response.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n  /**\n   * list all Notifications.\n   * @return Unread Notifications\n   */\n  async listAllNotification(page) {\n    try {\n      const response = await api.get(`${this.prefix}/list-all?page=${page}`);\n      return response.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n  /**\n   * mark one notification as read\n   * @param notification_id\n   */\n  async markAsRead(notification_id) {\n    try {\n      const response = await api.get(\n        `${this.prefix}/mark-as-read/${notification_id}`\n      );\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n   * mark ALL notifications as read\n   * @param notification_id\n   */\n  async markAllAsRead() {\n    try {\n      const response = await api.get(`${this.prefix}/mark-all-as-read`);\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n}\n\nexport default new Notifications();\n","import { baseURL } from \"../Intercepter\";\r\n\r\nclass profileImagesService {\r\n  /**\r\n   * get profile picture or cover.\r\n   *  @param  image size, image name, profile id\r\n   * @return image url\r\n   */\r\n  resolve_porfile_img(size, imageName, profile_id) {\r\n    let image = size + \"_\" + imageName;\r\n    // const url = `${baseURL}/profile-image?fileName=${image}&profileID=${profile_id}`\r\n    const url = `${baseURL}/profile-image/${profile_id}/${image}`;\r\n    return url;\r\n  }\r\n}\r\n\r\nexport default new profileImagesService();\r\n","<template>\n  <div class=\"user-img img-fluid\" :class=\"containerClass\">\n    <img\n      v-if=\"profileImg\"\n      :src=\"resolve_porfile_img(dimensions, profileImg, profile_id)\"\n      alt=\"profile-img\"\n      class=\"rounded-circle\"\n      :class=\"avatarClass\"\n      :title=\"title\"\n      :style=\"imageStyle\"\n    />\n\n    <img\n      v-else\n      :src=\"\n        resolve_porfile_img(\n          dimensions,\n          'ananimous_' + gender + '.png',\n          'ananimous'\n        )\n      \"\n      alt=\"profile-img\"\n      :title=\"title\"\n      class=\"rounded-circle\"\n      :class=\"avatarClass\"\n      :style=\"imageStyle\"\n    />\n  </div>\n</template>\n\n<script>\nimport profileImagesService from \"@/API/services/profile.images.service\";\nexport default {\n  name: \"UserAvatar\",\n  props: {\n    profileImg: {\n      type: String,\n      default: null,\n    },\n    profile_id: {\n      type: Number,\n      default: null,\n    },\n    dimensions: {\n      type: String,\n      default: \"60x60\",\n    },\n    title: {\n      type: String,\n      default: \"user image\",\n    },\n    avatarClass: {\n      type: String,\n      default: \"avatar-40\",\n    },\n    containerClass: {\n      type: String,\n      default: \"\",\n    },\n    gender: {\n      type: String,\n      default: \"male\",\n    },\n    imageStyle: {\n      type: Object,\n      default: null,\n    },\n  },\n  methods: {\n    /**\n     * get profile picture or cover.\n     * @param  {String} size,\n     * @param {String} name\n     * @param {Int, String} profile_id\n     * @return image url\n     */\n    resolve_porfile_img(size, imageName, profile_id) {\n      return profileImagesService.resolve_porfile_img(\n        size,\n        imageName,\n        profile_id\n      );\n    },\n  },\n};\n</script>\n","import { render } from \"./UserAvatar.vue?vue&type=template&id=51c7d03d\"\nimport script from \"./UserAvatar.vue?vue&type=script&lang=js\"\nexport * from \"./UserAvatar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\someO\\\\Desktop\\\\vue\\\\osboha2022\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"row\" ref=\"listContainer\">\n    <div class=\"col-sm-12\">\n      <h4 class=\"card-title\">الاشعارات</h4>\n      <span\n        role=\"button\"\n        class=\"btn btn-primary mb-3\"\n        v-if=\"unreadCount > 0\"\n        style=\"direction: rtl !important\"\n        @click=\"markAllAsRead()\"\n      >\n        <i role=\"button\" class=\"material-symbols-outlined align-middle\">\n          done\n        </i>\n\n        تحديد قراءة الكل\n      </span>\n    </div>\n    <div\n      class=\"col-sm-12\"\n      v-for=\"(notification, index) in notifications\"\n      :key=\"index\"\n    >\n      <iq-card :class=\"seenClass(notification.read_at)\">\n        <template v-slot:body>\n          <div class=\"notification-list m-0 p-0\">\n            <div class=\"d-flex align-items-center justify-content-between\">\n              <UserAvatar\n                :profileImg=\"\n                  notification.data.sender.user_profile.profile_picture\n                \"\n                :profile_id=\"notification.data.sender.user_profile.id\"\n                :title=\"notification.data.sender.name\"\n                :gender=\"notification.data.sender.gender\"\n                avatarClass=\"rounded-circle avatar-40\"\n              />\n              <div class=\"w-100\">\n                <div class=\"d-flex justify-content-between\">\n                  <div class=\"ms-3\">\n                    <h6>{{ notification.data.message }}</h6>\n                    <tooltip\n                      tag=\"span\"\n                      class=\"text-muted small\"\n                      tooltipPlacement=\"bottom\"\n                      data-bs-toggle=\"tooltip\"\n                      :title=\"formatFullDate(notification.created_at)\"\n                      >{{ formatDateToWritten(notification.created_at) }}\n                    </tooltip>\n                  </div>\n\n                  <div class=\"d-flex align-items-center\">\n                    <span\n                      role=\"button\"\n                      class=\"me-1\"\n                      @click.prevent=\"\n                        sendToPage(notification.data.path, notification.id)\n                      \"\n                    >\n                      عرض\n                    </span>\n                    <i\n                      role=\"button\"\n                      class=\"material-symbols-outlined md-18 me-3\"\n                      v-if=\"!notification.read_at\"\n                      @click=\"markAsRead(notification.id)\"\n                    >\n                      done\n                    </i>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n      </iq-card>\n    </div>\n  </div>\n</template>\n<script>\nimport helper from \"@/utilities/helper\";\nimport notificationsServices from \"@/API/services/notifications.service\";\nimport UserAvatar from \"@/components/user/UserAvatar.vue\";\n\nexport default {\n  name: \"Notification\",\n  components: {\n    UserAvatar,\n  },\n  created() {\n    this.loadNotifications();\n  },\n  async mounted() {\n    window.addEventListener(\"scroll\", this.handleScroll);\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  },\n  data() {\n    return {\n      notifications: [],\n      notifications_route: [],\n      notification_route: {\n        friends_requests: \"user.friendsRequests\",\n      },\n\n      page: 1,\n      totalPages: 1,\n      loading: false,\n      pendingRequest: false,\n      hasMore: true,\n      unRead: false,\n    };\n  },\n  computed: {\n    hasMoreToLoad() {\n      return this.page <= this.totalPages && this.hasMore;\n    },\n    unreadCount() {\n      return this.$store.state.unreadNotifications;\n    },\n  },\n  methods: {\n    ...helper,\n    async loadNotifications() {\n      if (this.pendingRequest) {\n        return;\n      }\n\n      this.pendingRequest = true;\n      this.loading = true;\n      try {\n        let response = await notificationsServices.listAllNotification(\n          this.page\n        );\n        this.notifications = response.data;\n        console.log(this.notifications);\n\n        this.checkUnread();\n\n        this.totalPages = response.data?.last_page ?? 1;\n        this.page++;\n\n        if (response.statusCode === 200 && !response.data) {\n          this.hasMore = false;\n          return;\n        }\n      } catch (error) {\n        console.log(error);\n        helper.toggleToast(\n          \"حدث خطأ أثناء تحميل الإشعارات, حاول مرة أخرى\",\n          \"error\"\n        );\n      } finally {\n        this.loading = false;\n        this.pendingRequest = false;\n      }\n    },\n    /**\n     * Check if the user has scrolled to the bottom of the page\n     * @returns {boolean}\n     */\n    isAtBottomOfPage() {\n      const containerRect = this.$refs.listContainer.getBoundingClientRect();\n      const containerBottom = containerRect.bottom;\n      const windowHeight = window.innerHeight;\n      return containerBottom <= windowHeight;\n    },\n    /*\n     * Load more posts when the user scrolls to the bottom of the page\n     */\n    handleScroll() {\n      if (this.hasMoreToLoad && this.isAtBottomOfPage()) {\n        this.loadNotifications();\n      }\n    },\n\n    /**\n     * return bg color class.\n     *  @param  read_at\n     * @return class\n     */\n    seenClass(read_at) {\n      if (read_at) {\n        return \"seen\";\n      } else {\n        return \"un-seen\";\n      }\n    },\n    /**\n     * mark one notification as read.\n     *  @param  notification_id\n     */\n    async markAsRead(notification_id) {\n      const response = await notificationsServices.markAsRead(notification_id);\n      this.notifications = response.data;\n      this.checkUnread();\n      if (this.unreadCount > 0) {\n        this.$store.commit(\"SET_UNREAD_NOTIFICATIONS\", this.unreadCount - 1);\n      }\n    },\n\n    /**\n     * mark ALL notification as read.\n     */\n    async markAllAsRead() {\n      console.log(\"tet\");\n      const response = await notificationsServices.markAllAsRead();\n      this.notifications = response.data;\n      this.checkUnread();\n      this.$store.commit(\"SET_UNREAD_NOTIFICATIONS\", 0);\n    },\n    checkUnread() {\n      function there_is_unread(notification) {\n        return notification.read_at === null;\n      }\n      // check unread\n      if (this.notifications.find(there_is_unread)) {\n        this.unRead = true;\n      }\n    },\n\n    sendToPage(path, id) {\n      if (path) {\n        this.$router.push({ path });\n      }\n      this.markAsRead(id);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.seen {\n  --bs-bg-opacity: 1;\n  background-color: white;\n}\n\n.un-seen {\n  --bs-bg-opacity: 1;\n  background-color: #e2e2e2;\n}\n</style>\n","import { render } from \"./Notification.vue?vue&type=template&id=26b20c6f&scoped=true\"\nimport script from \"./Notification.vue?vue&type=script&lang=js\"\nexport * from \"./Notification.vue?vue&type=script&lang=js\"\n\nimport \"./Notification.vue?vue&type=style&index=0&id=26b20c6f&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\someO\\\\Desktop\\\\vue\\\\osboha2022\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-26b20c6f\"]])\n\nexport default __exports__"],"names":["Notifications","constructor","this","prefix","response","api","data","error","handleError","page","notification_id","profileImagesService","resolve_porfile_img","size","imageName","profile_id","image","url","baseURL","_createElementBlock","class","$props","src","$options","alt","title","style","name","props","profileImg","type","String","default","Number","dimensions","avatarClass","containerClass","gender","imageStyle","Object","methods","__exports__","render","ref","_createElementVNode","role","_hoisted_3","onClick","_hoisted_4","_Fragment","_renderList","$data","notification","index","key","_createVNode","_component_iq_card","read_at","body","_component_UserAvatar","sender","user_profile","profile_picture","id","_toDisplayString","message","_component_tooltip","tag","tooltipPlacement","_ctx","created_at","path","_hoisted_11","_hoisted_12","components","UserAvatar","created","loadNotifications","async","window","addEventListener","handleScroll","beforeUnmount","removeEventListener","notifications","notifications_route","notification_route","friends_requests","totalPages","loading","pendingRequest","hasMore","unRead","computed","hasMoreToLoad","unreadCount","$store","state","unreadNotifications","helper","notificationsServices","console","log","checkUnread","last_page","statusCode","isAtBottomOfPage","containerRect","$refs","listContainer","getBoundingClientRect","containerBottom","bottom","windowHeight","innerHeight","seenClass","commit","there_is_unread","find","sendToPage","$router","push","markAsRead"],"sourceRoot":""}