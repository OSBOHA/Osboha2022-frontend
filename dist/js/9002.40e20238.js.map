{"version":3,"file":"js/9002.40e20238.js","mappings":"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","sources":["webpack://Osboha180/./src/components/book/theses/create.vue","webpack://Osboha180/./src/components/book/theses/create.vue?9e30"],"sourcesContent":["<template>\r\n  <form @submit.prevent=\"submit\">\r\n    <div class=\"d-flex align-items-center w-100 row\">\r\n      <!-- نوع الأطروحة -->\r\n      <div class=\"row\">\r\n        <div class=\"form-group\">\r\n          <h5 class=\"form-label\">نوع الأطروحة</h5>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <select\r\n            class=\"form-select w-100\"\r\n            name=\"type_of_thesis\"\r\n            id=\"type_of_thesis\"\r\n            v-model=\"v$.thesisForm.typeOfThesis.$model\"\r\n            v-on:change=\"\r\n              changeTypeOfThesis(\r\n                $event.target.options[$event.target.options.selectedIndex].value\r\n              )\r\n            \"\r\n          >\r\n            <option value=\"\">اختر نوع الأطروحة</option>\r\n            <option value=\"read\">قراءة</option>\r\n            <option value=\"readAndWrite\">كتابة أطروحة</option>\r\n            <option value=\"screenshots\">اقتباسات</option>\r\n            <option value=\"screenshotsAndWrite\">كتابة واقتباسات</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <!-- الصفحات -->\r\n      <div class=\"row mt-2\" v-if=\"showPages\">\r\n        <div class=\"form-group\">\r\n          <h5\r\n            class=\"form-label\"\r\n            :class=\"{ 'text-primary': pages.length === 0 && !startOver }\"\r\n          >\r\n            {{\r\n              pages.length === 0 && !startOver ? \"لقد أنهيت الكتاب\" : \"الصفحات\"\r\n            }}\r\n          </h5>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\" v-if=\"showPages\">\r\n        <button\r\n          class=\"btn btn-primary me-2 d-flex align-content-center justify-content-center\"\r\n          @click.prevent=\"startBookOver\"\r\n          v-if=\"pages.length === 0 && !startOver\"\r\n        >\r\n          <span class=\"material-symbols-outlined md-18\"> refresh </span>\r\n          إعادة قراءة الكتاب\r\n        </button>\r\n\r\n        <template v-else>\r\n          <div class=\"form-group col-6\">\r\n            <select\r\n              class=\"form-select\"\r\n              data-trigger\r\n              name=\"start_page\"\r\n              id=\"start_page\"\r\n              v-model=\"v$.thesisForm.start_page.$model\"\r\n            >\r\n              <option value=\"\">صفحة البداية</option>\r\n              <option v-for=\"page in pages\" :value=\"page\" :key=\"page\">\r\n                {{ page }}\r\n              </option>\r\n            </select>\r\n\r\n            <div class=\"help-block\" v-if=\"v$.thesisForm.start_page.$error\">\r\n              <small\r\n                style=\"color: red\"\r\n                v-if=\"v$.thesisForm.start_page.required.$invalid\"\r\n                >الرجاء اختيار صفحة البداية</small\r\n              >\r\n              <small\r\n                style=\"color: red\"\r\n                v-if=\"\r\n                  !v$.thesisForm.start_page.required.$invalid &&\r\n                  v$.thesisForm.start_page.between.$invalid\r\n                \"\r\n                >البداية يجب ان تكون اقل من النهاية</small\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group col-6\">\r\n            <select\r\n              class=\"form-select\"\r\n              data-trigger\r\n              name=\"end_page\"\r\n              id=\"end_page\"\r\n              v-model=\"v$.thesisForm.end_page.$model\"\r\n            >\r\n              <option value=\"\">صفحة النهاية</option>\r\n              <option v-for=\"page in pages\" :value=\"page\" :key=\"page\">\r\n                {{ page }}\r\n              </option>\r\n            </select>\r\n            <div class=\"help-block\" v-if=\"v$.thesisForm.end_page.$error\">\r\n              <small\r\n                style=\"color: red\"\r\n                v-if=\"v$.thesisForm.end_page.required.$invalid\"\r\n                >الرجاء اختيار صفحة النهاية</small\r\n              >\r\n              <small\r\n                style=\"color: red\"\r\n                v-if=\"\r\n                  !v$.thesisForm.end_page.required.$invalid &&\r\n                  v$.thesisForm.end_page.between.$invalid\r\n                \"\r\n                >النهاية يجب ان تكون اكبر من البداية</small\r\n              >\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </div>\r\n      <div class=\"form-group\" v-if=\"thesis\">\r\n        <label class=\"form-label\" for=\"thesisBody\">الأطروحة</label>\r\n        <textarea\r\n          rows=\"5\"\r\n          placeholder=\"... اكتب أطروحتك\"\r\n          class=\"rounded form-control\"\r\n          id=\"thesisBody\"\r\n          name=\"thesisBody\"\r\n          v-model.trim=\"v$.thesisForm.body.$model\"\r\n        ></textarea>\r\n        <p style=\"direction: rtl\">\r\n          <span> {{ v$.thesisForm.body.$model.length }}/400 حرف</span>\r\n          <span> - </span>\r\n          <span\r\n            style=\"color: red\"\r\n            class=\"text-center\"\r\n            v-if=\"v$.thesisForm.body.$model.length < 400\"\r\n            >أطروحة غير شاملة\r\n            <span class=\"material-symbols-outlined font-small\">error</span>\r\n          </span>\r\n          <span style=\"color: green\" v-else\r\n            >أطروحة شاملة\r\n            <span class=\"material-symbols-outlined font-small\"\r\n              >check_circle</span\r\n            >\r\n          </span>\r\n        </p>\r\n        <div class=\"help-block\" v-if=\"v$.thesisForm.body.$error\">\r\n          <small\r\n            style=\"color: red\"\r\n            v-if=\"v$.thesisForm.body.requiredIf.$invalid\"\r\n            >الرجاء ادخال الأطروحة</small\r\n          >\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-group\" v-if=\"screenshots\">\r\n        <label class=\"form-label\" for=\"customFile\"> اضافة اقتباس</label>\r\n        <input\r\n          class=\"form-control\"\r\n          type=\"file\"\r\n          id=\"customFile\"\r\n          multiple\r\n          accept=\"image/jpeg, image/png, image/jpg, image/gif, image/svg\"\r\n          ref=\"screenShots\"\r\n          @change=\"previewImages\"\r\n        />\r\n        <div class=\"help-block\" v-if=\"v$.thesisForm.screenShots.$error\">\r\n          <small\r\n            style=\"color: red\"\r\n            v-if=\"v$.thesisForm.screenShots.requiredIf.$invalid\"\r\n            >الرجاء ادخال اقتباس واحد على الاقل</small\r\n          >\r\n        </div>\r\n        <ImagePreviewer\r\n          v-if=\"thesisForm.screenShots.length\"\r\n          :media=\"thesisForm.screenShots\"\r\n          @remove-media=\"removeImage\"\r\n          ref=\"imagePreviewer\"\r\n        />\r\n      </div>\r\n      <hr />\r\n      <!--Success and error messages-->\r\n\r\n      <small class=\"text-danger text-center\" v-if=\"errorMessage\">\r\n        {{ errorMessage }}\r\n      </small>\r\n      <small\r\n        class=\"text-danger text-center\"\r\n        v-if=\"mediaNoteText && thesisToEdit\"\r\n      >\r\n        {{ mediaNoteText }}\r\n      </small>\r\n      <div class=\"col-sm-12 text-center\" v-if=\"loader\">\r\n        <img\r\n          :src=\"require('@/assets/images/page-img/page-load-loader.gif')\"\r\n          alt=\"loader\"\r\n          style=\"height: 100px\"\r\n        />\r\n      </div>\r\n      <button\r\n        type=\"submit\"\r\n        class=\"btn btn-primary d-block mt-3\"\r\n        v-if=\"!loader\"\r\n        :disabled=\"v$.thesisForm.$invalid\"\r\n      >\r\n        إضافة\r\n      </button>\r\n    </div>\r\n  </form>\r\n</template>\r\n<script>\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, requiredIf } from \"@vuelidate/validators\";\r\nimport commentService from \"@/API/services/comment.service\";\r\nimport ImagePreviewer from \"@/components/media/ImagePreviewer.vue\";\r\nimport helper from \"@/utilities/helper\";\r\n\r\nexport default {\r\n  name: \"CreateThesis\",\r\n  components: {\r\n    ImagePreviewer,\r\n  },\r\n  props: {\r\n    book: {\r\n      type: Object,\r\n      default: null,\r\n    },\r\n    lastThesis: {\r\n      type: Object,\r\n      default: null,\r\n    },\r\n    thesisToEdit: {\r\n      type: Object,\r\n      default: null,\r\n    },\r\n  },\r\n  setup() {\r\n    return {\r\n      v$: useVuelidate(),\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      thesis: false,\r\n      screenshots: false,\r\n      showPages: false,\r\n      loader: false,\r\n      startOver: false,\r\n      thesisForm: {\r\n        typeOfThesis: \"\",\r\n        start_page: \"\",\r\n        end_page: \"\",\r\n        body: \"\",\r\n        screenShots: [],\r\n        type: \"thesis\",\r\n        book_id: null,\r\n        u_comment_id: null,\r\n      },\r\n      mediaNoteText: \"\",\r\n      errorMessage: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    pages() {\r\n      let allPages = [];\r\n      let start = null;\r\n\r\n      // console.log(\"[computed last thesis]\", this.lastThesis);\r\n      // console.log(\"[computed book]\", this.book);\r\n\r\n      //if user has a book in progress, start pages from the last thesis end page and add 1 to it\r\n      if (\r\n        this.book.userBooks.length &&\r\n        this.book.userBooks[0].status === \"in progress\"\r\n      ) {\r\n        start = this.lastThesis\r\n          ? this.lastThesis?.end_page + 1\r\n          : this.book.start_page;\r\n        // console.log(\"[computed in progress]\", start);\r\n      }\r\n      //if user has no book, so this is the first thesis, start pages from the book start page\r\n      else if (!this.book.userBooks.length && !this.lastThesis) {\r\n        start = this.book.start_page;\r\n        // console.log(\"[computed first thesis]\", start);\r\n      }\r\n\r\n      //if user is editting the thesis, start pages from the book start page\r\n      if (this.thesisToEdit) {\r\n        start = this.book.start_page;\r\n        // console.log(\"[computed editting]\", start);\r\n      }\r\n\r\n      //if start null, it means the user has finished the book\r\n\r\n      //if start over button is not clicked, return empty array\r\n      if (start === null && !this.startOver) {\r\n        // console.log(\"[computed finished]\", start);\r\n        return [];\r\n      }\r\n\r\n      //if start over button is clicked, start pages from the book start page\r\n      if (start === null && this.startOver) {\r\n        start = this.book.start_page;\r\n        // console.log(\"[computed start over]\", start);\r\n      }\r\n      //add all pages to the array from the start page to the book end page\r\n      for (let i = start; i <= this.book.end_page; i++) {\r\n        allPages.push(i);\r\n      }\r\n      return allPages;\r\n    },\r\n    successMessage() {\r\n      return this.thesisToEdit\r\n        ? \"تم تعديل الأطروحة بنجاح\"\r\n        : \"تم إضافة الأطروحة بنجاح\";\r\n    },\r\n  },\r\n  watch: {\r\n    book() {\r\n      this.thesisForm.book_id = this.book.id;\r\n      // console.log(\"[watch book id]\", this.thesisForm.book_id);\r\n    },\r\n  },\r\n  created() {\r\n    if (this.thesisToEdit) {\r\n      // console.log(\"[created thesisToEdit]\", this.thesisToEdit);\r\n      this.thesisForm.u_comment_id = parseInt(this.thesisToEdit.id);\r\n      this.thesisForm.body = this.thesisToEdit.body\r\n        ? this.thesisToEdit.body\r\n        : \"\";\r\n      this.thesisForm.start_page = this.thesisToEdit.thesis.start_page;\r\n      this.thesisForm.end_page = this.thesisToEdit.thesis.end_page;\r\n      this.thesisForm.screenShots.old = this.thesisToEdit.media ?? [];\r\n      this.showPages = true;\r\n\r\n      if (\r\n        (!this.thesisToEdit.body &&\r\n          this.checkThesisHasMedia(this.thesisToEdit) === 0) ||\r\n        (!this.thesisToEdit.body &&\r\n          this.checkThesisHasMedia(this.thesisToEdit) > 0)\r\n      ) {\r\n        this.thesisForm.typeOfThesis = \"read\";\r\n      } else if (\r\n        (this.thesisToEdit.body &&\r\n          this.checkThesisHasMedia(this.thesisToEdit) === 0) ||\r\n        (this.thesisToEdit.body &&\r\n          this.checkThesisHasMedia(this.thesisToEdit) > 0)\r\n      ) {\r\n        this.thesisForm.typeOfThesis = \"readAndWrite\";\r\n      }\r\n\r\n      this.changeTypeOfThesis(this.thesisForm.typeOfThesis);\r\n\r\n      const mediaCount = this.checkThesisHasMedia(this.thesisToEdit);\r\n      this.mediaNoteText =\r\n        mediaCount > 0\r\n          ? `ملاحظة: سيتم حذف الصور الموجودين بعد تعديل الأطروحة وعددهم: ${mediaCount}`\r\n          : \"\";\r\n    } else {\r\n      this.thesisForm.book_id = this.book?.id;\r\n      // console.log(\"[book]\", this.book);\r\n      // console.log(\"[thesisForm created]\", this.thesisForm);\r\n    }\r\n  },\r\n  methods: {\r\n    showAddThesis() {\r\n      this.thesis = true;\r\n      this.screenshots = false;\r\n    },\r\n    showAddScreenshots() {\r\n      this.screenshots = true;\r\n      this.thesis = false;\r\n    },\r\n    noThesisAndScreenshots() {\r\n      this.thesis = false;\r\n      this.screenshots = false;\r\n    },\r\n    thesisAndScreenshots() {\r\n      this.thesis = true;\r\n      this.screenshots = true;\r\n    },\r\n    changeTypeOfThesis(type) {\r\n      this.showPages = true;\r\n      if (type == \"read\") {\r\n        this.noThesisAndScreenshots();\r\n      } else if (type == \"readAndWrite\") {\r\n        this.showAddThesis();\r\n      } else if (type == \"screenshots\") {\r\n        this.showAddScreenshots();\r\n      } else if (type == \"screenshotsAndWrite\") {\r\n        this.thesisAndScreenshots();\r\n      } else {\r\n        this.showPages = false;\r\n        this.noThesisAndScreenshots();\r\n      }\r\n    },\r\n    previewImages(event) {\r\n      this.thesisForm.screenShots = event.target.files;\r\n    },\r\n    removeImage(index) {\r\n      const files = [...this.thesisForm.screenShots];\r\n      files.splice(index, 1);\r\n      this.thesisForm.screenShots = files;\r\n\r\n      if (this.thesisForm.screenShots.length == 0) {\r\n        this.$refs.screenShots.value = null;\r\n      }\r\n    },\r\n    async submit() {\r\n      this.v$.$touch();\r\n      if (!this.v$.thesisForm.$invalid) {\r\n        this.loader = true;\r\n        try {\r\n          this.updateThesisForm();\r\n\r\n          let response;\r\n\r\n          if (this.thesisToEdit) {\r\n            response = await commentService.update(this.thesisForm);\r\n          } else {\r\n            response = await commentService.create(this.thesisForm);\r\n          }\r\n\r\n          if (response.statusCode !== 200) {\r\n            throw response.data;\r\n          }\r\n\r\n          helper.handleSuccessSwal(this.successMessage);\r\n\r\n          if (!this.thesisToEdit) {\r\n            this.$emit(\"addThesis\", response.data);\r\n            //reset form\r\n            this.thesisForm = {\r\n              ...this.thesisForm,\r\n              typeOfThesis: \"\",\r\n              start_page: \"\",\r\n              end_page: \"\",\r\n              body: \"\",\r\n              screenShots: [],\r\n            };\r\n\r\n            this.v$.thesisForm.$reset();\r\n            this.changeTypeOfThesis(\"\");\r\n\r\n            //timer to close the modal\r\n            setTimeout(() => {\r\n              this.$emit(\"closeModel\");\r\n            }, 2000);\r\n          } else {\r\n            setTimeout(() => {\r\n              location.reload();\r\n            }, 1800);\r\n          }\r\n        } catch (error) {\r\n          helper.handleErrorSwal(\"حدث خطأ ما, يرجى المحاولة مرة أخرى!\");\r\n          console.log(error);\r\n        } finally {\r\n          this.loader = false;\r\n        }\r\n      } else {\r\n        this.errorMessage = \"الرجاء ادخال جميع البيانات المطلوبة\";\r\n      }\r\n    },\r\n    updateThesisForm() {\r\n      if (this.thesisForm.typeOfThesis == \"read\") {\r\n        this.thesisForm.body = null;\r\n        this.thesisForm.screenShots = [];\r\n      } else if (this.thesisForm.typeOfThesis == \"readAndWrite\") {\r\n        this.thesisForm.screenShots = [];\r\n      } else if (this.thesisForm.typeOfThesis == \"screenshots\") {\r\n        this.thesisForm.body = null;\r\n      }\r\n    },\r\n    startBookOver() {\r\n      this.startOver = true;\r\n    },\r\n    checkThesisHasMedia(thesis) {\r\n      let media = 0;\r\n\r\n      if (thesis.media) {\r\n        media++;\r\n      }\r\n\r\n      if (thesis.replies?.length) {\r\n        thesis.replies.forEach((item) => {\r\n          if (item.type === \"screenshot\" && item.media) {\r\n            media++;\r\n          }\r\n        });\r\n      }\r\n\r\n      return media;\r\n    },\r\n  },\r\n  validations() {\r\n    return {\r\n      thesisForm: {\r\n        typeOfThesis: {\r\n          required,\r\n        },\r\n        start_page: {\r\n          required,\r\n          between: (value) =>\r\n            parseInt(value) < parseInt(this.thesisForm.end_page),\r\n        },\r\n        end_page: {\r\n          required,\r\n          between: (value) =>\r\n            parseInt(value) > parseInt(this.thesisForm.start_page),\r\n        },\r\n        body: {\r\n          requiredIf: requiredIf(\r\n            () =>\r\n              this.thesisForm.typeOfThesis == \"readAndWrite\" ||\r\n              this.thesisForm.typeOfThesis == \"screenshotsAndWrite\"\r\n          ),\r\n        },\r\n        screenShots: {\r\n          requiredIf: requiredIf(\r\n            () =>\r\n              this.thesisForm.typeOfThesis == \"screenshots\" ||\r\n              this.thesisForm.typeOfThesis == \"screenshotsAndWrite\"\r\n          ),\r\n        },\r\n      },\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.font-small {\r\n  font-size: 0.8rem;\r\n}\r\n.text-danger {\r\n  color: #c50714 !important;\r\n}\r\n</style>\r\n","import { render } from \"./create.vue?vue&type=template&id=a0683062&scoped=true\"\nimport script from \"./create.vue?vue&type=script&lang=js\"\nexport * from \"./create.vue?vue&type=script&lang=js\"\n\nimport \"./create.vue?vue&type=style&index=0&id=a0683062&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\someO\\\\Desktop\\\\vue\\\\osboha2022\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a0683062\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_5","value","style","for","_createElementBlock","onSubmit","$options","_hoisted_3","name","id","$setup","thesisForm","typeOfThesis","$model","$event","onChange","target","options","selectedIndex","$data","length","_Fragment","key","start_page","_hoisted_16","_renderList","page","_hoisted_17","$error","required","$invalid","between","end_page","_hoisted_22","_hoisted_23","onClick","_hoisted_14","_hoisted_28","rows","placeholder","body","_toDisplayString","_hoisted_30","_hoisted_32","_hoisted_34","requiredIf","_hoisted_38","type","multiple","accept","ref","screenShots","_createBlock","_component_ImagePreviewer","media","onRemoveMedia","_hoisted_41","$props","src","require","alt","disabled","_hoisted_46","components","ImagePreviewer","props","book","Object","default","lastThesis","thesisToEdit","setup","v$","useVuelidate","data","thesis","screenshots","showPages","loader","startOver","book_id","u_comment_id","mediaNoteText","errorMessage","computed","pages","allPages","start","this","userBooks","status","i","push","successMessage","watch","created","parseInt","old","checkThesisHasMedia","changeTypeOfThesis","mediaCount","methods","showAddThesis","showAddScreenshots","noThesisAndScreenshots","thesisAndScreenshots","previewImages","event","files","removeImage","index","splice","$refs","async","$touch","response","updateThesisForm","commentService","statusCode","helper","setTimeout","location","reload","$emit","$reset","error","console","log","startBookOver","replies","forEach","item","validations","__exports__","render"],"sourceRoot":""}