{"version":3,"file":"js/7494.d871b685.js","mappings":"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","sources":["webpack://Osboha180/./src/API/services/marks.service.js","webpack://Osboha180/./src/views/OsbohaMain/Group/Ambassadors/ListReading.vue","webpack://Osboha180/./src/components/book/support/Support.vue","webpack://Osboha180/./src/components/book/support/Support.vue?08c5","webpack://Osboha180/./src/views/OsbohaMain/Group/Ambassadors/ListReading.vue?3c6e"],"sourcesContent":["import { handleError } from \"vue\";\nimport { api } from \"../Intercepter\";\n\nclass Marks {\n  /**\n   * get user month Achievement.\n   *  @param  user_id , filter\n   * @return month Achievement\n   */\n  async userMonthAchievement(user_id, filter) {\n    try {\n      const response = await api.get(\n        `marks/user-month-achievement/${user_id}/${filter}`\n      );\n      return response.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n  /**\n   * get user week Achievement.\n   *  @param  user_id , filter\n   * @return week Achievement\n   */\n  async userWeekAchievement(user_id, filter) {\n    try {\n      const response = await api.get(\n        `marks/user-week-achievement/${user_id}/${filter}`\n      );\n      return response.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n  /**\n   * get user mark with theses => list only for group administrators\n   *  @param  user_id\n   * @return week Achievement\n   */\n  async ambassadorMark(user_id) {\n    try {\n      const response = await api.get(`marks/ambassador-mark/${user_id}`);\n      return response.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  /**\n   * Accept support done by user (ambassador) and update mark\n   * @param  user_id\n   * @return {object} response\n   * @throws {object} error\n   */\n  async acceptSupport(user_id) {\n    try {\n      const response = await api.put(`marks/accept-support/user/${user_id}`);\n      return response.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  /**\n   * Reject support done by user (ambassador) and update mark\n   * @param  user_id\n   * @return {object} response\n   * @throws {object} error\n   */\n  async rejectSupport(user_id) {\n    try {\n      const response = await api.put(`marks/reject-support/user/${user_id}`);\n      return response.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n}\n\nexport default new Marks();\n","<template>\r\n  <div>\r\n    <div class=\"col-sm-12 mt-3\">\r\n      <count-down v-if=\"week\" :week=\"week\" :timer_type=\"'main_timer'\" />\r\n      <iq-card class=\"iq-card\">\r\n        <!-- <div class=\"iq-card-header-toolbar d-flex align-items-center mx-auto\">\r\n          <h3\r\n            class=\"text-center mt-3 mb-3\"\r\n            style=\"direction: rtl\"\r\n            v-if=\"mark && week\"\r\n          >\r\n            {{ mark.user.name }} - الأسبوع {{ week.title }}\r\n          </h3>\r\n        </div> -->\r\n        <div class=\"iq-card-body p-3\">\r\n          <AchievementCard v-if=\"mark\" :mark=\"mark\" :group=\"group\" />\r\n          <div class=\"d-flex align-items-center mt-3\">\r\n            <Check :theses=\"theses\" />\r\n          </div>\r\n\r\n          <!--Support-->\r\n          <Support\r\n            :support=\"support\"\r\n            :supportMark=\"mark?.support\"\r\n            @updateSupportMark=\"updateSupportMark\"\r\n          />\r\n\r\n          <div class=\"d-flex align-items-center mt-3 row\">\r\n            <!-- <div class=\"alert alert-danger text-center\" role=\"alert\">\r\n              لا يمكنك الاعتماد لأن الأسبوع انتهى\r\n            </div> -->\r\n            <div class=\"d-flex align-items-center mt-3 row\">\r\n              <div class=\"d-inline-block w-100 text-center col-12\">\r\n                <a\r\n                  role=\"button\"\r\n                  @click=\"$router.go(-1)\"\r\n                  class=\"d-block mt-3 mb-3 w-75 mx-auto\"\r\n                >\r\n                  <span>عودة</span>\r\n                  <span class=\"align-middle material-symbols-outlined\">\r\n                    keyboard_return\r\n                  </span>\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </iq-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport AchievementCard from \"@/components/book/theses/achievement-card.vue\";\r\nimport Check from \"@/components/book/theses/check.vue\";\r\nimport MarkService from \"@/API/services/marks.service\";\r\nimport CountDown from \"@/components/timer/Countdown.vue\";\r\nimport Support from \"@/components/book/support/Support.vue\";\r\nimport helper from \"@/utilities/helper\";\r\n\r\nexport default {\r\n  name: \"List Reading\",\r\n  components: {\r\n    Check,\r\n    AchievementCard,\r\n    CountDown,\r\n    Support,\r\n  },\r\n  data() {\r\n    return {\r\n      theses: [],\r\n      support: null,\r\n      group: null,\r\n      week: null,\r\n      mark: null,\r\n    };\r\n  },\r\n  async created() {\r\n    try {\r\n      const response = await MarkService.ambassadorMark(\r\n        this.$route.params.ambassador_id\r\n      );\r\n\r\n      console.log(\"[mark response]\", response);\r\n      this.mark = response.mark;\r\n      this.theses = response.theses.reduce((groupByBook, item) => {\r\n        const group = groupByBook[item.book.name] || [];\r\n        group[\"title\"] = item.book.name;\r\n        group.push(item);\r\n        groupByBook[item.book.name] = group;\r\n        return groupByBook;\r\n      }, {});\r\n      this.group = response.group;\r\n      this.week = response.currentWeek;\r\n      this.support = response.support;\r\n    } catch (error) {\r\n      const res = error.response.data;\r\n      if (res.statusCode === 403) {\r\n        this.$router.push({ name: \"NotAuthorized\" });\r\n      } else if (res.statusCode === 404) {\r\n        this.$router.push({ name: \"NotFound\" });\r\n      } else {\r\n        helper.toggleToast(\"حدث خطأ ما\", \"error\");\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    updateSupportMark(mark) {\r\n      this.mark.support = mark;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","<template>\n  <div class=\"col-12\">\n    <div class=\"card card-block card-stretch card-height blog\">\n      <div class=\"card-header\">\n        <h2>الدعم</h2>\n      </div>\n      <div class=\"card-body\">\n        <div class=\"blog-description\">\n          <table class=\"table w-100\" v-if=\"!noSupportPost\">\n            <thead>\n              <tr class=\"text-center\">\n                <th scope=\"col\">التفاعل</th>\n                <th scope=\"col\">التصويت</th>\n                <th scope=\"col\">المنشور</th>\n                <th scope=\"col\">العلامة</th>\n                <th scope=\"col\">التحكم</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr class=\"text-center\">\n                <td>\n                  <span v-if=\"noReaction\">لا يوجد</span>\n                  <font-awesome-icon\n                    v-else-if=\"support.reaction.type === 'like'\"\n                    :icon=\"['fas', 'thumbs-up']\"\n                    size=\"xl\"\n                    class=\"text-primary\"\n                  />\n                  <img\n                    v-else\n                    :src=\"support.reaction.media.path\"\n                    :alt=\"support.reaction.type\"\n                    class=\"reaction-img\"\n                    height=\"20\"\n                    width=\"20\"\n                  />\n                </td>\n                <td>\n                  {{ noVote ? \"لا يوجد\" : support.vote.option }}\n                </td>\n                <td>\n                  <router-link\n                    :to=\"{\n                      name: 'osboha.post',\n                      params: {\n                        post_id: support.post_id,\n                        user_id: $route.params.ambassador_id,\n                      },\n                    }\"\n                    class=\"d-flex align-items-center justify-content-center\"\n                  >\n                    <span\n                      class=\"material-symbols-outlined\"\n                      style=\"font-size: 1rem\"\n                    >\n                      link\n                    </span>\n                    عرض\n                  </router-link>\n                </td>\n                <td>\n                  {{ supportMark }}\n                </td>\n                <td\n                  :rowspan=\"managementRowSpan\"\n                  class=\"align-middle\"\n                  v-if=\"noReaction && noVote && noComments\"\n                >\n                  <span class=\"text-danger-modified font-weight-600\"\n                    >لا يوجد دعم بعد</span\n                  >\n                </td>\n                <td v-else :rowspan=\"managementRowSpan\" class=\"align-middle\">\n                  <img\n                    v-if=\"loading\"\n                    :src=\"\n                      require('@/assets/images/page-img/page-load-loader.gif')\n                    \"\n                    alt=\"loader\"\n                    style=\"height: 50px\"\n                  />\n                  <template v-else>\n                    <button\n                      class=\"btn btn-success\"\n                      @click=\"handleSupport\"\n                      v-if=\"supportMark === 0\"\n                    >\n                      قبول\n                    </button>\n                    <button\n                      v-else\n                      class=\"btn btn-danger-modified\"\n                      @click=\"handleSupport(false)\"\n                    >\n                      رفض\n                    </button>\n\n                    <!-- <span\n                    v-if=\"supportMark === 0\"\n                      class=\"material-symbols-outlined text-primary\"\n                      role=\"button\"\n                      @click.prevent=\"handleSupport\"\n                      >done</span\n                    >\n                    <span\n                      v-else\n                      class=\"material-symbols-outlined text-danger-modified\"\n                      role=\"button\"\n                      @click.prevent=\"handleSupport(false)\"\n                      >close</span\n                    > -->\n                  </template>\n                </td>\n              </tr>\n              <tr>\n                <th colspan=\"4\">التعليقات</th>\n              </tr>\n              <tr v-for=\"comment in support.comments\" :key=\"comment.id\">\n                <td colspan=\"4\">\n                  {{ comment.body }}\n                  <span\n                    v-if=\"comment.comment_id > 0\"\n                    class=\"rounded-pill badge bg-info px-2 ms-1\"\n                    >رد\n                  </span>\n                </td>\n              </tr>\n              <tr class=\"text-center\" v-if=\"noComments\">\n                <td colspan=\"3\">لا يوجد تعليقات</td>\n              </tr>\n            </tbody>\n          </table>\n          <p\n            class=\"text-danger-modified font-weight-600\"\n            style=\"direction: rtl !important\"\n          >\n            {{ support?.supportError }}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MarkService from \"@/API/services/marks.service\";\nimport helper from \"@/utilities/helper\";\n\nexport default {\n  name: \"Support\",\n  props: {\n    support: {\n      type: Object,\n      required: true,\n    },\n    supportMark: {\n      type: Number,\n      default: 0,\n    },\n  },\n  emits: [\"updateSupportMark\"],\n  data() {\n    return {\n      ambassador_id: this.$route.params.ambassador_id,\n      loading: false,\n    };\n  },\n  computed: {\n    noSupportPost() {\n      return this.support?.supportError !== null;\n    },\n    noReaction() {\n      return this.support?.reaction === null;\n    },\n    noVote() {\n      return this.support?.vote === null;\n    },\n    noComments() {\n      return this.support?.comments?.length === 0;\n    },\n    managementRowSpan() {\n      return this.noComments ? 3 : this.support?.comments?.length + 2;\n    },\n  },\n  created() {\n    console.log(\"[created - supportMark]\", this.supportMark);\n  },\n  methods: {\n    async handleSupport(status = true) {\n      if (this.loading) return;\n\n      const alertText = status\n        ? \"سيتم قبول الدعم وإضافة العلامة للسفير\"\n        : \"سيتم رفض الدعم وخصم العلامة من السفير\";\n      const swalAlert = this.$swal.mixin({\n        customClass: {\n          confirmButton: \"btn btn-primary btn-lg\",\n          cancelButton: \"btn btn-outline-danger btn-lg ms-2\",\n        },\n        buttonsStyling: false,\n      });\n\n      swalAlert\n        .fire({\n          title: \"هل أنت متأكد؟\",\n          text: alertText,\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonText: \"نعم!\",\n          cancelButtonText: \"تراجع\",\n          showClass: {\n            popup: \"animate__animated animate__zoomIn\",\n          },\n          hideClass: {\n            popup: \"animate__animated animate__zoomOut\",\n          },\n        })\n        .then(async (result) => {\n          if (result.isConfirmed) {\n            this.loading = true;\n            try {\n              let response;\n\n              if (status)\n                response = await MarkService.acceptSupport(this.ambassador_id);\n              else\n                response = await MarkService.rejectSupport(this.ambassador_id);\n\n              if (response.statusCode === 200) {\n                const statusText = status ? \"قبول\" : \"رفض\";\n                helper.toggleToast(`تم ${statusText} الدعم بنجاح`, \"success\");\n                this.$emit(\"updateSupportMark\", status ? 10 : 0);\n              }\n            } catch (error) {\n              console.log(error.response.data);\n            } finally {\n              this.loading = false;\n            }\n          }\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.text-danger-modified {\n  color: #ff0000;\n}\n.font-weight-600 {\n  font-weight: 600;\n}\n\n.btn-danger-modified {\n  background-color: #ff0000;\n  border-color: #ff0000;\n  color: #fff;\n}\n</style>\n","import { render } from \"./Support.vue?vue&type=template&id=cfe5b04c&scoped=true\"\nimport script from \"./Support.vue?vue&type=script&lang=js\"\nexport * from \"./Support.vue?vue&type=script&lang=js\"\n\nimport \"./Support.vue?vue&type=style&index=0&id=cfe5b04c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\someO\\\\Desktop\\\\vue\\\\osboha2022\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cfe5b04c\"]])\n\nexport default __exports__","import { render } from \"./ListReading.vue?vue&type=template&id=a8d42874\"\nimport script from \"./ListReading.vue?vue&type=script&lang=js\"\nexport * from \"./ListReading.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\someO\\\\Desktop\\\\vue\\\\osboha2022\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["Marks","user_id","filter","response","api","data","error","handleError","class","_createElementVNode","_hoisted_7","_hoisted_8","_createElementBlock","$data","_createBlock","_component_count_down","week","timer_type","_createVNode","_component_iq_card","_component_AchievementCard","mark","group","_component_Check","theses","_component_Support","support","supportMark","onUpdateSupportMark","$options","role","onClick","_ctx","go","scope","style","_hoisted_13","colspan","_hoisted_21","_hoisted_3","_hoisted_9","$props","reaction","type","_component_font_awesome_icon","icon","size","src","media","path","alt","height","width","_toDisplayString","vote","option","_component_router_link","to","post_id","params","ambassador_id","_hoisted_11","rowspan","require","_Fragment","key","_hoisted_17","_renderList","comments","comment","id","body","comment_id","_hoisted_22","supportError","name","props","Object","required","Number","default","emits","this","$route","loading","computed","noSupportPost","noReaction","noVote","noComments","length","managementRowSpan","created","console","log","methods","async","status","alertText","swalAlert","$swal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","title","text","showCancelButton","confirmButtonText","cancelButtonText","showClass","popup","hideClass","then","result","isConfirmed","MarkService","statusCode","statusText","helper","$emit","__exports__","components","Check","AchievementCard","CountDown","Support","reduce","groupByBook","item","book","push","currentWeek","res","$router","updateSupportMark","render"],"sourceRoot":""}