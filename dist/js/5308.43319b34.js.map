{"version":3,"file":"js/5308.43319b34.js","mappings":"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","sources":["webpack://Osboha180/./src/API/services/book.service.js","webpack://Osboha180/./src/components/book/theses/create.vue","webpack://Osboha180/./src/components/book/theses/create.vue?9e30","webpack://Osboha180/./src/components/media/ImagePreviewer.vue","webpack://Osboha180/./src/components/media/ImagePreviewer.vue?caf8"],"sourcesContent":["import { api } from \"../Intercepter\";\nimport { handleError } from \"vue\";\n\nclass BookService {\n  async create(\n    name,\n    writer,\n    publisher,\n    brief,\n    startPage,\n    endPage,\n    link,\n    sectionId,\n    image,\n    level,\n    type_id\n  ) {\n    let formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"writer\", writer);\n    formData.append(\"start_page\", startPage);\n    formData.append(\"end_page\", endPage);\n    formData.append(\"publisher\", publisher);\n    formData.append(\"brief\", brief);\n    formData.append(\"link\", link);\n    formData.append(\"type_id\", type_id);\n    formData.append(\"section_id\", sectionId);\n    formData.append(\"level\", level);\n    formData.append(\"image\", image);\n    try {\n      const response = await api.post(\"/books\", formData, {\n        headers: { \"Content-type\": \"multipart/form-data\" },\n      });\n      return response.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async getAll(page) {\n    try {\n      const books = await api.get(`books?page=` + page);\n      return books.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  async getById(id) {\n    try {\n      const book = await api.get(`/books/${id}`);\n      return book.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  async deleteById(id) {\n    try {\n      return await api.delete(`/books/${id}`);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async getBooksByType(typeId) {\n    try {\n      const books = await api.get(`/books/type/${typeId}`);\n      return books.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async getBooksByLevel(level, page) {\n    try {\n      const books = await api.post(`/books/level?page=${page}`, {\n        level,\n      });\n      return books.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async getBooksByName(name, page) {\n    try {\n      const books = await api.post(`/books/name?page=${page}`, {\n        name,\n      });\n      return books.data.data;\n    } catch (error) {\n      console.log(error);\n      return \"\";\n    }\n  }\n\n  async getBooksByLanguage(language, page) {\n    try {\n      const books = await api.post(`/books/language?page=${page}`, {\n        language,\n      });\n      return books.data.data;\n    } catch (error) {\n      console.log(error);\n      return \"\";\n    }\n  }\n\n  async getBooksBySection(sectionId) {\n    try {\n      const books = await api.get(`/books/section/${sectionId}`);\n      return books.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async getRecentAddedBooks() {\n    try {\n      const books = await api.get(`/books/recent-added-books`);\n      return books.data.data;\n    } catch (error) {\n      console.log(error);\n      return \"\";\n    }\n  }\n\n  async getMostReadableBooks() {\n    try {\n      const books = await api.get(`/books/most-readable-books`);\n      return books.data.data;\n    } catch (error) {\n      console.log(error);\n      return \"\";\n    }\n  }\n\n  async getRandomBook() {\n    try {\n      const book = await api.get(`/books/random-book`);\n      return book.data.data;\n    } catch (error) {\n      console.log(error);\n      return \"\";\n    }\n  }\n\n  async latestBooks() {\n    try {\n      const book = await api.get(`/books/latest`);\n      return book.data.data;\n    } catch (error) {\n      console.log(error);\n      return \"\";\n    }\n  }\n}\n\nexport default new BookService();\n","<template>\r\n  <form @submit.prevent=\"submit\">\r\n    <div class=\"d-flex align-items-center w-100 row\">\r\n      <!-- نوع الأطروحة -->\r\n      <div class=\"row\">\r\n        <div class=\"form-group\">\r\n          <h5 class=\"form-label\">نوع الأطروحة</h5>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <select\r\n            class=\"form-select w-100\"\r\n            name=\"type_of_thesis\"\r\n            id=\"type_of_thesis\"\r\n            v-model=\"v$.thesisForm.typeOfThesis.$model\"\r\n            v-on:change=\"\r\n              changeTypeOfThesis(\r\n                $event.target.options[$event.target.options.selectedIndex].value\r\n              )\r\n            \"\r\n          >\r\n            <option value=\"\">اختر نوع الأطروحة</option>\r\n            <option value=\"read\">قراءة</option>\r\n            <option value=\"readAndWrite\">كتابة أطروحة</option>\r\n            <option value=\"screenshots\">اقتباسات</option>\r\n            <option value=\"screenshotsAndWrite\">كتابة واقتباسات</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <!-- الصفحات -->\r\n      <div class=\"row mt-2\" v-if=\"showPages\">\r\n        <div class=\"form-group\">\r\n          <h5\r\n            class=\"form-label\"\r\n            :class=\"{ 'text-primary': pages.length === 0 && !startOver }\"\r\n          >\r\n            {{\r\n              pages.length === 0 && !startOver ? \"لقد أنهيت الكتاب\" : \"الصفحات\"\r\n            }}\r\n          </h5>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\" v-if=\"showPages\">\r\n        <button\r\n          class=\"btn btn-primary me-2 d-flex align-content-center justify-content-center\"\r\n          @click.prevent=\"startBookOver\"\r\n          v-if=\"pages.length === 0 && !startOver\"\r\n        >\r\n          <span class=\"material-symbols-outlined md-18\"> refresh </span>\r\n          إعادة قراءة الكتاب\r\n        </button>\r\n\r\n        <template v-else>\r\n          <div class=\"form-group col-6\">\r\n            <select\r\n              class=\"form-select\"\r\n              data-trigger\r\n              name=\"start_page\"\r\n              id=\"start_page\"\r\n              v-model=\"v$.thesisForm.start_page.$model\"\r\n            >\r\n              <option value=\"\">صفحة البداية</option>\r\n              <option v-for=\"page in pages\" :value=\"page\" :key=\"page\">\r\n                {{ page }}\r\n              </option>\r\n            </select>\r\n\r\n            <div class=\"help-block\" v-if=\"v$.thesisForm.start_page.$error\">\r\n              <small\r\n                style=\"color: red\"\r\n                v-if=\"v$.thesisForm.start_page.required.$invalid\"\r\n                >الرجاء اختيار صفحة البداية</small\r\n              >\r\n              <small\r\n                style=\"color: red\"\r\n                v-if=\"\r\n                  !v$.thesisForm.start_page.required.$invalid &&\r\n                  v$.thesisForm.start_page.between.$invalid\r\n                \"\r\n                >البداية يجب ان تكون اقل من النهاية</small\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group col-6\">\r\n            <select\r\n              class=\"form-select\"\r\n              data-trigger\r\n              name=\"end_page\"\r\n              id=\"end_page\"\r\n              v-model=\"v$.thesisForm.end_page.$model\"\r\n            >\r\n              <option value=\"\">صفحة النهاية</option>\r\n              <option v-for=\"page in pages\" :value=\"page\" :key=\"page\">\r\n                {{ page }}\r\n              </option>\r\n            </select>\r\n            <div class=\"help-block\" v-if=\"v$.thesisForm.end_page.$error\">\r\n              <small\r\n                style=\"color: red\"\r\n                v-if=\"v$.thesisForm.end_page.required.$invalid\"\r\n                >الرجاء اختيار صفحة النهاية</small\r\n              >\r\n              <small\r\n                style=\"color: red\"\r\n                v-if=\"\r\n                  !v$.thesisForm.end_page.required.$invalid &&\r\n                  v$.thesisForm.end_page.between.$invalid\r\n                \"\r\n                >النهاية يجب ان تكون اكبر من البداية</small\r\n              >\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </div>\r\n      <div class=\"form-group\" v-if=\"thesis\">\r\n        <label class=\"form-label\" for=\"thesisBody\">الأطروحة</label>\r\n        <textarea\r\n          rows=\"5\"\r\n          placeholder=\"... اكتب أطروحتك\"\r\n          class=\"rounded form-control\"\r\n          id=\"thesisBody\"\r\n          name=\"thesisBody\"\r\n          v-model.trim=\"v$.thesisForm.body.$model\"\r\n        ></textarea>\r\n        <p style=\"direction: rtl\">\r\n          <span> {{ v$.thesisForm.body.$model.length }}/400 حرف</span>\r\n          <span> - </span>\r\n          <span\r\n            style=\"color: red\"\r\n            class=\"text-center\"\r\n            v-if=\"v$.thesisForm.body.$model.length < 400\"\r\n            >أطروحة غير شاملة\r\n            <span class=\"material-symbols-outlined font-small\">error</span>\r\n          </span>\r\n          <span style=\"color: green\" v-else\r\n            >أطروحة شاملة\r\n            <span class=\"material-symbols-outlined font-small\"\r\n              >check_circle</span\r\n            >\r\n          </span>\r\n        </p>\r\n        <div class=\"help-block\" v-if=\"v$.thesisForm.body.$error\">\r\n          <small\r\n            style=\"color: red\"\r\n            v-if=\"v$.thesisForm.body.requiredIf.$invalid\"\r\n            >الرجاء ادخال الأطروحة</small\r\n          >\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-group\" v-if=\"screenshots\">\r\n        <label class=\"form-label\" for=\"customFile\"> اضافة اقتباس</label>\r\n        <input\r\n          class=\"form-control\"\r\n          type=\"file\"\r\n          id=\"customFile\"\r\n          multiple\r\n          accept=\"image/jpeg, image/png, image/jpg, image/gif, image/svg\"\r\n          ref=\"screenShots\"\r\n          @change=\"previewImages\"\r\n        />\r\n        <div class=\"help-block\" v-if=\"v$.thesisForm.screenShots.$error\">\r\n          <small\r\n            style=\"color: red\"\r\n            v-if=\"v$.thesisForm.screenShots.requiredIf.$invalid\"\r\n            >الرجاء ادخال اقتباس واحد على الاقل</small\r\n          >\r\n        </div>\r\n        <ImagePreviewer\r\n          v-if=\"thesisForm.screenShots.length\"\r\n          :media=\"thesisForm.screenShots\"\r\n          @remove-media=\"removeImage\"\r\n          ref=\"imagePreviewer\"\r\n        />\r\n      </div>\r\n      <hr />\r\n      <!--Success and error messages-->\r\n\r\n      <small class=\"text-danger text-center\" v-if=\"errorMessage\">\r\n        {{ errorMessage }}\r\n      </small>\r\n      <small\r\n        class=\"text-danger text-center\"\r\n        v-if=\"mediaNoteText && thesisToEdit\"\r\n      >\r\n        {{ mediaNoteText }}\r\n      </small>\r\n      <div class=\"col-sm-12 text-center\" v-if=\"loader\">\r\n        <img\r\n          :src=\"require('@/assets/images/page-img/page-load-loader.gif')\"\r\n          alt=\"loader\"\r\n          style=\"height: 100px\"\r\n        />\r\n      </div>\r\n      <button\r\n        type=\"submit\"\r\n        class=\"btn btn-primary d-block mt-3\"\r\n        v-if=\"!loader\"\r\n        :disabled=\"v$.thesisForm.$invalid\"\r\n      >\r\n        إضافة\r\n      </button>\r\n    </div>\r\n  </form>\r\n</template>\r\n<script>\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, requiredIf } from \"@vuelidate/validators\";\r\nimport commentService from \"@/API/services/comment.service\";\r\nimport ImagePreviewer from \"@/components/media/ImagePreviewer.vue\";\r\nimport helper from \"@/utilities/helper\";\r\n\r\nexport default {\r\n  name: \"CreateThesis\",\r\n  components: {\r\n    ImagePreviewer,\r\n  },\r\n  props: {\r\n    book: {\r\n      type: Object,\r\n      default: null,\r\n    },\r\n    lastThesis: {\r\n      type: Object,\r\n      default: null,\r\n    },\r\n    thesisToEdit: {\r\n      type: Object,\r\n      default: null,\r\n    },\r\n  },\r\n  setup() {\r\n    return {\r\n      v$: useVuelidate(),\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      thesis: false,\r\n      screenshots: false,\r\n      showPages: false,\r\n      loader: false,\r\n      startOver: false,\r\n      thesisForm: {\r\n        typeOfThesis: \"\",\r\n        start_page: \"\",\r\n        end_page: \"\",\r\n        body: \"\",\r\n        screenShots: [],\r\n        type: \"thesis\",\r\n        book_id: null,\r\n        u_comment_id: null,\r\n      },\r\n      mediaNoteText: \"\",\r\n      errorMessage: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    pages() {\r\n      let allPages = [];\r\n      let start = null;\r\n\r\n      console.log(\"[computed last thesis]\", this.lastThesis);\r\n      console.log(\"[computed book]\", this.book);\r\n\r\n      //if user has a book in progress, start pages from the last thesis end page and add 1 to it\r\n      if (\r\n        this.book.userBooks.length &&\r\n        this.book.userBooks[0].status === \"in progress\"\r\n      ) {\r\n        start = this.lastThesis\r\n          ? this.lastThesis?.end_page + 1\r\n          : this.book.start_page;\r\n        console.log(\"[computed in progress]\", start);\r\n      }\r\n      //if user has no book, so this is the first thesis, start pages from the book start page\r\n      else if (!this.book.userBooks.length && !this.lastThesis) {\r\n        start = this.book.start_page;\r\n        console.log(\"[computed first thesis]\", start);\r\n      }\r\n\r\n      //if user is editting the thesis, start pages from the book start page\r\n      if (this.thesisToEdit) {\r\n        start = this.book.start_page;\r\n        console.log(\"[computed editting]\", start);\r\n      }\r\n\r\n      //if start null, it means the user has finished the book\r\n\r\n      //if start over button is not clicked, return empty array\r\n      if (start === null && !this.startOver) {\r\n        console.log(\"[computed finished]\", start);\r\n        return [];\r\n      }\r\n\r\n      //if start over button is clicked, start pages from the book start page\r\n      if (start === null && this.startOver) {\r\n        start = this.book.start_page;\r\n        console.log(\"[computed start over]\", start);\r\n      }\r\n      //add all pages to the array from the start page to the book end page\r\n      for (let i = start; i <= this.book.end_page; i++) {\r\n        allPages.push(i);\r\n      }\r\n      return allPages;\r\n    },\r\n    successMessage() {\r\n      return this.thesisToEdit\r\n        ? \"تم تعديل الأطروحة بنجاح\"\r\n        : \"تم إضافة الأطروحة بنجاح\";\r\n    },\r\n  },\r\n  watch: {\r\n    book() {\r\n      this.thesisForm.book_id = this.book.id;\r\n      console.log(\"[watch book id]\", this.thesisForm.book_id);\r\n    },\r\n  },\r\n  created() {\r\n    if (this.thesisToEdit) {\r\n      console.log(\"[created thesisToEdit]\", this.thesisToEdit);\r\n      this.thesisForm.u_comment_id = parseInt(this.thesisToEdit.id);\r\n      this.thesisForm.body = this.thesisToEdit.body\r\n        ? this.thesisToEdit.body\r\n        : \"\";\r\n      this.thesisForm.start_page = this.thesisToEdit.thesis.start_page;\r\n      this.thesisForm.end_page = this.thesisToEdit.thesis.end_page;\r\n      this.thesisForm.screenShots.old = this.thesisToEdit.media ?? [];\r\n      this.showPages = true;\r\n\r\n      if (\r\n        (!this.thesisToEdit.body &&\r\n          this.checkThesisHasMedia(this.thesisToEdit) === 0) ||\r\n        (!this.thesisToEdit.body &&\r\n          this.checkThesisHasMedia(this.thesisToEdit) > 0)\r\n      ) {\r\n        this.thesisForm.typeOfThesis = \"read\";\r\n      } else if (\r\n        (this.thesisToEdit.body &&\r\n          this.checkThesisHasMedia(this.thesisToEdit) === 0) ||\r\n        (this.thesisToEdit.body &&\r\n          this.checkThesisHasMedia(this.thesisToEdit) > 0)\r\n      ) {\r\n        this.thesisForm.typeOfThesis = \"readAndWrite\";\r\n      }\r\n\r\n      this.changeTypeOfThesis(this.thesisForm.typeOfThesis);\r\n\r\n      const mediaCount = this.checkThesisHasMedia(this.thesisToEdit);\r\n      this.mediaNoteText =\r\n        mediaCount > 0\r\n          ? `ملاحظة: سيتم حذف الصور الموجودين بعد تعديل الأطروحة وعددهم: ${mediaCount}`\r\n          : \"\";\r\n    } else {\r\n      this.thesisForm.book_id = this.book?.id;\r\n      console.log(\"[book]\", this.book);\r\n      console.log(\"[thesisForm created]\", this.thesisForm);\r\n    }\r\n  },\r\n  methods: {\r\n    showAddThesis() {\r\n      this.thesis = true;\r\n      this.screenshots = false;\r\n    },\r\n    showAddScreenshots() {\r\n      this.screenshots = true;\r\n      this.thesis = false;\r\n    },\r\n    noThesisAndScreenshots() {\r\n      this.thesis = false;\r\n      this.screenshots = false;\r\n    },\r\n    thesisAndScreenshots() {\r\n      this.thesis = true;\r\n      this.screenshots = true;\r\n    },\r\n    changeTypeOfThesis(type) {\r\n      this.showPages = true;\r\n      if (type == \"read\") {\r\n        this.noThesisAndScreenshots();\r\n      } else if (type == \"readAndWrite\") {\r\n        this.showAddThesis();\r\n      } else if (type == \"screenshots\") {\r\n        this.showAddScreenshots();\r\n      } else if (type == \"screenshotsAndWrite\") {\r\n        this.thesisAndScreenshots();\r\n      } else {\r\n        this.showPages = false;\r\n        this.noThesisAndScreenshots();\r\n      }\r\n    },\r\n    previewImages(event) {\r\n      this.thesisForm.screenShots = event.target.files;\r\n    },\r\n    removeImage(index) {\r\n      const files = [...this.thesisForm.screenShots];\r\n      files.splice(index, 1);\r\n      this.thesisForm.screenShots = files;\r\n\r\n      if (this.thesisForm.screenShots.length == 0) {\r\n        this.$refs.screenShots.value = null;\r\n      }\r\n    },\r\n    async submit() {\r\n      this.v$.$touch();\r\n      if (!this.v$.thesisForm.$invalid) {\r\n        this.loader = true;\r\n        try {\r\n          this.updateThesisForm();\r\n\r\n          let response;\r\n\r\n          if (this.thesisToEdit) {\r\n            response = await commentService.update(this.thesisForm);\r\n          } else {\r\n            response = await commentService.create(this.thesisForm);\r\n          }\r\n\r\n          if (response.statusCode !== 200) {\r\n            throw response.data;\r\n          }\r\n\r\n          helper.handleSuccessSwal(this.successMessage);\r\n\r\n          if (!this.thesisToEdit) {\r\n            this.$emit(\"addThesis\", response.data);\r\n            //reset form\r\n            this.thesisForm = {\r\n              ...this.thesisForm,\r\n              typeOfThesis: \"\",\r\n              start_page: \"\",\r\n              end_page: \"\",\r\n              body: \"\",\r\n              screenShots: [],\r\n            };\r\n\r\n            this.v$.thesisForm.$reset();\r\n            this.changeTypeOfThesis(\"\");\r\n\r\n            //timer to close the modal\r\n            setTimeout(() => {\r\n              this.$emit(\"closeModel\");\r\n            }, 2000);\r\n          } else {\r\n            setTimeout(() => {\r\n              location.reload();\r\n            }, 1800);\r\n          }\r\n        } catch (error) {\r\n          helper.handleErrorSwal(\"حدث خطأ ما, يرجى المحاولة مرة أخرى!\");\r\n          console.log(error);\r\n        } finally {\r\n          this.loader = false;\r\n        }\r\n      } else {\r\n        this.errorMessage = \"الرجاء ادخال جميع البيانات المطلوبة\";\r\n      }\r\n    },\r\n    updateThesisForm() {\r\n      if (this.thesisForm.typeOfThesis == \"read\") {\r\n        this.thesisForm.body = null;\r\n        this.thesisForm.screenShots = [];\r\n      } else if (this.thesisForm.typeOfThesis == \"readAndWrite\") {\r\n        this.thesisForm.screenShots = [];\r\n      } else if (this.thesisForm.typeOfThesis == \"screenshots\") {\r\n        this.thesisForm.body = null;\r\n      }\r\n    },\r\n    startBookOver() {\r\n      this.startOver = true;\r\n    },\r\n    checkThesisHasMedia(thesis) {\r\n      let media = 0;\r\n\r\n      if (thesis.media) {\r\n        media++;\r\n      }\r\n\r\n      if (thesis.replies?.length) {\r\n        thesis.replies.forEach((item) => {\r\n          if (item.type === \"screenshot\" && item.media) {\r\n            media++;\r\n          }\r\n        });\r\n      }\r\n\r\n      return media;\r\n    },\r\n  },\r\n  validations() {\r\n    return {\r\n      thesisForm: {\r\n        typeOfThesis: {\r\n          required,\r\n        },\r\n        start_page: {\r\n          required,\r\n          between: (value) =>\r\n            parseInt(value) < parseInt(this.thesisForm.end_page),\r\n        },\r\n        end_page: {\r\n          required,\r\n          between: (value) =>\r\n            parseInt(value) > parseInt(this.thesisForm.start_page),\r\n        },\r\n        body: {\r\n          requiredIf: requiredIf(\r\n            () =>\r\n              this.thesisForm.typeOfThesis == \"readAndWrite\" ||\r\n              this.thesisForm.typeOfThesis == \"screenshotsAndWrite\"\r\n          ),\r\n        },\r\n        screenShots: {\r\n          requiredIf: requiredIf(\r\n            () =>\r\n              this.thesisForm.typeOfThesis == \"screenshots\" ||\r\n              this.thesisForm.typeOfThesis == \"screenshotsAndWrite\"\r\n          ),\r\n        },\r\n      },\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.font-small {\r\n  font-size: 0.8rem;\r\n}\r\n.text-danger {\r\n  color: #c50714 !important;\r\n}\r\n</style>\r\n","import { render } from \"./create.vue?vue&type=template&id=42061fa3&scoped=true\"\nimport script from \"./create.vue?vue&type=script&lang=js\"\nexport * from \"./create.vue?vue&type=script&lang=js\"\n\nimport \"./create.vue?vue&type=style&index=0&id=42061fa3&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\someO\\\\Desktop\\\\vue\\\\osboha2022\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-42061fa3\"]])\n\nexport default __exports__","<template>\n  <div class=\"preview-images\">\n    <div\n      class=\"image-container\"\n      v-for=\"(previewUrl, index) in previewUrls\"\n      :key=\"previewUrl.url\"\n    >\n      <div class=\"delete-image\" @click=\"removeMedia(index)\">\n        <span> x </span>\n      </div>\n      <img :src=\"previewUrl.url\" v-if=\"previewUrl.type.includes('image')\" />\n      <video :src=\"previewUrl.url\" v-else autoplay />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ImagePreviewer\",\n  props: {\n    media: {\n      type: [Array, FileList],\n      default: () => [],\n    },\n  },\n  emits: [\"remove-media\"],\n  data() {\n    return {\n      previewUrls: [],\n    };\n  },\n  methods: {\n    previewMedia() {\n      this.previewUrls = [];\n      const images = [...this.media];\n      images.forEach((image) => {\n        const reader = new FileReader();\n        reader.onload = () => {\n          this.previewUrls.push({\n            url: reader.result,\n            type: image.type,\n          });\n        };\n        reader.readAsDataURL(image);\n      });\n    },\n    removeMedia(index) {\n      this.previewUrls.splice(index, 1);\n      this.$emit(\"remove-media\", index);\n    },\n    clearMedia() {\n      this.previewUrls = [];\n    },\n  },\n  mounted() {\n    this.previewMedia();\n  },\n  watch: {\n    media() {\n      this.previewMedia();\n    },\n  },\n};\n</script>\n\n<style>\n.preview-images {\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 10px;\n}\n.image-container {\n  margin-right: 10px;\n  margin-bottom: 10px;\n  height: 60px;\n  width: 60px;\n  position: relative;\n}\n\n.image-container img,\n.image-container video {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border: 1px solid #ddd;\n  border-radius: 10px;\n  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);\n}\n\n.delete-image {\n  position: absolute;\n  top: -5px;\n  right: -5px;\n  z-index: 1;\n  height: 20px;\n  width: 20px;\n  background: #fff;\n  border-radius: 50%;\n  padding: 5px;\n  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);\n  color: #000;\n  font-size: 12px;\n  font-weight: 700;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>\n","import { render } from \"./ImagePreviewer.vue?vue&type=template&id=062dc946\"\nimport script from \"./ImagePreviewer.vue?vue&type=script&lang=js\"\nexport * from \"./ImagePreviewer.vue?vue&type=script&lang=js\"\n\nimport \"./ImagePreviewer.vue?vue&type=style&index=0&id=062dc946&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\someO\\\\Desktop\\\\vue\\\\osboha2022\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["BookService","name","writer","publisher","brief","startPage","endPage","link","sectionId","image","level","type_id","formData","FormData","append","response","api","headers","data","error","page","books","handleError","id","book","typeId","console","log","language","class","_createElementVNode","_hoisted_5","value","style","for","_createElementBlock","onSubmit","$options","_hoisted_3","$setup","thesisForm","typeOfThesis","$model","$event","onChange","target","options","selectedIndex","$data","length","_Fragment","key","start_page","_hoisted_16","_renderList","_hoisted_17","$error","required","$invalid","between","end_page","_hoisted_22","_hoisted_23","onClick","_hoisted_14","_hoisted_28","rows","placeholder","body","_toDisplayString","_hoisted_30","_hoisted_32","_hoisted_34","requiredIf","_hoisted_38","type","multiple","accept","ref","screenShots","_createBlock","_component_ImagePreviewer","media","onRemoveMedia","_hoisted_41","$props","src","require","alt","disabled","_hoisted_46","components","ImagePreviewer","props","Object","default","lastThesis","thesisToEdit","setup","v$","useVuelidate","thesis","screenshots","showPages","loader","startOver","book_id","u_comment_id","mediaNoteText","errorMessage","computed","pages","allPages","start","this","userBooks","status","i","push","successMessage","watch","created","parseInt","old","checkThesisHasMedia","changeTypeOfThesis","mediaCount","methods","showAddThesis","showAddScreenshots","noThesisAndScreenshots","thesisAndScreenshots","previewImages","event","files","removeImage","index","splice","$refs","async","$touch","updateThesisForm","commentService","statusCode","helper","setTimeout","location","reload","$emit","$reset","startBookOver","replies","forEach","item","validations","__exports__","render","previewUrl","url","includes","autoplay","Array","FileList","emits","previewUrls","previewMedia","images","reader","FileReader","onload","result","readAsDataURL","removeMedia","clearMedia","mounted"],"sourceRoot":""}