"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[3854],{22658:function(t,e,a){var s=a(66252),r=a(24150),i=a(79940);class n{async createGroup(t){try{const e=await r.hi.post("/group/create",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){(0,s.S3)(e)}}async getAll(){try{const t=await r.hi.get("/group");return await t.data}catch(t){return t}}async getById(t){try{const e=await r.hi.get(`group/show/${t}`);return e.data.data}catch(e){return e}}async getBooks(t){try{const e=await r.hi.get(`group/books/${t}`);return e.data.data}catch(e){(0,s.S3)(e)}}async getAllGroupExceptions(t){try{const e=await r.hi.get(`group/group-exceptions/${t}`);return e.data.data}catch(e){return e}}async exceptionsFilter(t,e){try{const a=await r.hi.get(`group/exceptions-filter/${t}/${e}`);return a.data.data}catch(a){return a}}async BasicMarksView(t){try{const e=await r.hi.get(`group/basic-mark-view/${t}`);return e.data.data}catch(e){return e}}async AllAchievements(t,e){try{const a=await r.hi.get(`group/all-achievements/${t}/${e}`);return a.data.data}catch(a){return a}}async AchievementAsPages(t,e){try{const a=await r.hi.get(`group/achievement-as-pages/${t}/${e}`);return a.data.data}catch(a){return a}}async searchForAmbassadorAchievement(t,e,a){try{const s=await r.hi.get(`group/search-for-ambassador-achievement/${t}/${e}/${a}`);return s.data.data}catch(s){return s}}async searchForAmbassador(t,e){try{const a=await r.hi.get(`group/search-for-ambassador/${t}/${e}`);return a.data.data}catch(a){return a}}async createLeaderRequest(t){try{const e=await r.hi.post("/group/create-leader-request",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){return e}}async lastLeaderRequest(t){try{const e=await r.hi.get(`group/last-leader-request/${t}`);return e.data.data}catch(e){return e}}async deleteById(t){try{return await r.hi["delete"](`/group/delete/${t}`)}catch(e){return e}}async update(t){}async getGroupByType(t){try{const e=await r.hi.post("/group/GroupByType",{type_id:t});return e.data}catch(e){return e}}async userGroups(){try{const t=await r.hi.get("/group/user-groups");return t.data.data}catch(t){return t}}async statistics(t){try{const e=await r.hi.get(`group/statistics/${t}`);return e.data.data}catch(e){(0,i.F)(e,"statistics")}}async thesesAndScreensByWeek(t,e){try{const a=await r.hi.get(`group/theses-and-screens-by-week/${t}/${e}`);return a.data.data}catch(a){(0,s.S3)(a)}}async monthAchievement(t,e){try{const a=await r.hi.get(`group/month-achievement/${t}/${e}`);return a.data.data}catch(a){(0,s.S3)(a)}}}e["Z"]=new n},2933:function(t,e,a){var s=a(24150);class r{resolve_porfile_img(t,e,a){let r=t+"_"+e;const i=`${s.v2}/profile-image/${a}/${r}`;return i}}e["Z"]=new r},79940:function(t,e,a){a.d(e,{F:function(){return r}});var s=a(1120);function r(t,e=""){throw console.log(`[ERROR] ${e} =>`,t.response.data),404===t.response.data.statusCode?s.Z.push({name:"NotFound"}):403===t.response.data.statusCode&&s.Z.push({name:"NotAuthorized"}),t}},96596:function(t,e,a){a.d(e,{Z:function(){return d}});var s=a(66252);function r(t,e,a,r,i,n){const o=(0,s.up)("Pie");return(0,s.wg)(),(0,s.j4)(o,{data:a.data,options:a.options},null,8,["data","options"])}var i=a(32005),n=a(65750);n.kL.register(n.Dx,n.u,n.De,n.ZL,n.uw,n.f$,n.qi);var o={name:"PieChart",props:["data","options"],components:{Pie:i.by},data(){return{}}},c=a(83744);const l=(0,c.Z)(o,[["render",r]]);var d=l},53306:function(t,e,a){a.d(e,{Z:function(){return h}});var s=a(66252),r=a(3577);const i=["src","title"],n=["src","title"];function o(t,e,a,o,c,l){return(0,s.wg)(),(0,s.iD)("div",{class:(0,r.C_)(["user-img img-fluid",a.containerClass])},[a.profileImg?((0,s.wg)(),(0,s.iD)("img",{key:0,src:l.resolve_porfile_img(a.dimensions,a.profileImg,a.profile_id),alt:"profile-img",class:(0,r.C_)(["rounded-circle",a.avatarClass]),title:a.title,style:(0,r.j5)(a.imageStyle)},null,14,i)):((0,s.wg)(),(0,s.iD)("img",{key:1,src:l.resolve_porfile_img(a.dimensions,"ananimous_"+a.gender+".png","ananimous"),alt:"profile-img",title:a.title,class:(0,r.C_)(["rounded-circle",a.avatarClass]),style:(0,r.j5)(a.imageStyle)},null,14,n))],2)}var c=a(2933),l={name:"UserAvatar",props:{profileImg:{type:String,default:null},profile_id:{type:Number,default:null},dimensions:{type:String,default:"60x60"},title:{type:String,default:"user image"},avatarClass:{type:String,default:"avatar-40"},containerClass:{type:String,default:""},gender:{type:String,default:"male"},imageStyle:{type:Object,default:null}},methods:{resolve_porfile_img(t,e,a){return c.Z.resolve_porfile_img(t,e,a)}}},d=a(83744);const u=(0,d.Z)(l,[["render",o]]);var h=u},63854:function(t,e,a){a.r(e),a.d(e,{default:function(){return Vt}});var s=a(66252);const r=(0,s._)("h2",null,"فريق ABC احصائيات",-1);function i(t,e,a,i,n,o){const c=(0,s.up)("Marks"),l=(0,s.up)("MostRead"),d=(0,s.up)("Achievement"),u=(0,s.up)("ThseseAndQuotes"),h=(0,s.up)("GroupMonth"),m=(0,s.up)("iq-card");return n.statistics?((0,s.wg)(),(0,s.j4)(m,{key:0},{body:(0,s.w5)((()=>[r,(0,s.Wm)(c,{statistics:n.statistics.total_statistics,week_title:this.statistics.week.title},null,8,["statistics","week_title"]),n.statistics.most_read?((0,s.wg)(),(0,s.j4)(l,{key:0,most_read:n.statistics.most_read},null,8,["most_read"])):(0,s.kq)("",!0),o.noStatistics?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(d,{key:1,total:this.statistics.total},null,8,["total"])),(0,s.Wm)(u,{total_theses:n.statistics.total_statistics.total_thesis??0,total_screenshot:n.statistics.total_statistics.total_screenshot??0},null,8,["total_theses","total_screenshot"]),(0,s.Wm)(h,{monthAchievement:n.statistics.month_achievement,monthTitle:n.statistics.month_achievement_title},null,8,["monthAchievement","monthTitle"])])),_:1})):(0,s.kq)("",!0)}var n=a(3577);const o={class:"row"},c={class:"col-lg-12 col-md-12"},l={class:"card"},d={class:"card-header"},u={class:"header-title"},h={class:"card-title"},m={class:"card-body"},p={class:"mb-3"},_={class:"d-flex justify-content-between mt-2 text-dark"},g=(0,s._)("h6",null,"المعدل العام",-1),v={class:"mb-3"},y={class:"d-flex justify-content-between mt-2 text-dark"},w=(0,s._)("h6",null,"إنجاز القراءة",-1),f={class:"mb-3"},k={class:"d-flex justify-content-between mt-2 text-dark"},b=(0,s._)("h6",null,"إنجاز الكتابة",-1),A={class:"row"},x={class:"col-6"},$={class:"text-dark d-flex flex-column align-items-center"},D=(0,s._)("h6",{class:"d-inline-flex"},[(0,s.Uk)(" عدد الصفحات المقروءة "),(0,s._)("span",{class:"material-symbols-outlined me-2"}," auto_stories ")],-1),C={class:"col-6"},j={class:"text-dark d-flex flex-column align-items-center"},Z=(0,s._)("h6",{class:"d-inline-flex"},[(0,s.Uk)(" عدد الأطروحات المكتوبة "),(0,s._)("span",{class:"material-symbols-outlined me-2"}," draw ")],-1);function S(t,e,a,r,i,S){const F=(0,s.up)("progressbar"),q=(0,s.up)("b-progress");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",c,[(0,s._)("div",l,[(0,s._)("div",d,[(0,s._)("div",u,[(0,s._)("h4",h,"انجاز الأسبوع "+(0,n.zw)(a.week_title),1)])]),(0,s._)("div",m,[(0,s._)("div",p,[(0,s._)("div",_,[g,(0,s._)("small",null,(0,n.zw)(S.getAverage(a.statistics.team_out_of_100))+"%",1)]),(0,s.Wm)(q,{class:"shadow-none w-100 mt-2",style:{height:"6px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(F,{className:"bg-primary",style:(0,n.j5)({width:S.getAverage(a.statistics.team_out_of_100)+"%"}),"aria-valuenow":S.getAverage(a.statistics.team_out_of_100),"aria-valuemin":0,"aria-valuemax":100},null,8,["style","aria-valuenow"])])),_:1})]),(0,s._)("div",v,[(0,s._)("div",y,[w,(0,s._)("small",null,(0,n.zw)(S.getAverage(a.statistics.team_reading_mark))+" / 50",1)]),(0,s.Wm)(q,{class:"shadow-none w-100 mt-2",style:{height:"6px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(F,{className:"bg-primary",style:(0,n.j5)({width:S.getAverage(a.statistics.team_reading_mark)/50*100+"%"}),"aria-valuenow":S.getAverage(a.statistics.team_reading_mark),"aria-valuemin":0,"aria-valuemax":50},null,8,["style","aria-valuenow"])])),_:1})]),(0,s._)("div",f,[(0,s._)("div",k,[b,(0,s._)("small",null,(0,n.zw)(S.getAverage(a.statistics.team_writing_mark))+" / 40",1)]),(0,s.Wm)(q,{class:"shadow-none w-100 mt-2",style:{height:"6px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(F,{className:"bg-primary",style:(0,n.j5)({width:S.getAverage(a.statistics.team_writing_mark)/40*100+"%"}),"aria-valuenow":S.getAverage(a.statistics.team_writing_mark),"aria-valuemin":0,"aria-valuemax":40},null,8,["style","aria-valuenow"])])),_:1})]),(0,s._)("div",A,[(0,s._)("div",x,[(0,s._)("div",$,[D,(0,s._)("h2",null,(0,n.zw)(t.formatNumber(a.statistics.total_pages)),1)])]),(0,s._)("div",C,[(0,s._)("div",j,[Z,(0,s._)("h2",null,(0,n.zw)(t.formatNumber(a.statistics.total_thesis)),1)])])])])])])])}var F=a(8209),q={name:"GroupMarks",props:{statistics:{type:[Object],required:!0},week_title:{type:[String],required:!0}},methods:{...F.Z,getAverage(t){return(Math.round(t??0)/100).toFixed(2)}}},M=a(83744);const W=(0,M.Z)(q,[["render",S]]);var G=W;const z={class:"row"},O={class:"col-lg-12 col-md-12"},B={class:"card"},T=(0,s._)("div",{class:"card-header"},[(0,s._)("div",{class:"header-title"},[(0,s._)("h4",{class:"card-title"},"الأكثر قراءة")])],-1),L={class:"card-body"},R={class:"row d-flex justify-content-center mb-2"},N={class:"col-6 m-auto d-flex justify-content-end"},I={class:"col-6 m-auto"},U={style:{direction:"rtl"}};function P(t,e,a,r,i,o){const c=(0,s.up)("UserAvatar"),l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",z,[(0,s._)("div",O,[(0,s._)("div",B,[T,(0,s._)("div",L,[(0,s._)("div",R,[(0,s._)("div",N,[(0,s.Wm)(c,{profileImg:a.most_read.user.user_profile.profile_picture,profile_id:a.most_read.user.user_profile.id,title:a.most_read.user.name,gender:a.most_read.user.gender,avatarClass:"avatar-120 rounded-circle"},null,8,["profileImg","profile_id","title","gender"])]),(0,s._)("div",I,[(0,s.Wm)(l,{to:{name:"user.profile",params:{user_id:a.most_read.user.id}}},{default:(0,s.w5)((()=>[(0,s._)("h3",null,(0,n.zw)(a.most_read.user.name),1)])),_:1},8,["to"]),(0,s._)("h5",U,(0,n.zw)(t.formatNumber(a.most_read.max_total_pages))+" صفحة ",1)])])])])])])}var E=a(53306),Q={name:"MostRead",components:{UserAvatar:E.Z},props:{most_read:{type:[Object],required:!0}},methods:{...F.Z}};const V=(0,M.Z)(Q,[["render",P]]);var H=V;const J={class:"row"},K={class:"col-lg-12 col-md-12"},X={class:"card"},Y={class:"card-body"},tt={class:"container mt-3 d-flex align-items-center justify-content-center"};function et(t,e,a,r,i,n){const o=(0,s.up)("Doughnut");return(0,s.wg)(),(0,s.iD)("div",J,[(0,s._)("div",K,[(0,s._)("div",X,[(0,s._)("div",Y,[(0,s._)("div",tt,[(0,s.Wm)(o,{id:"my-chart-id",options:i.chartOptions,data:i.chartData},null,8,["options","data"])])])])])])}var at=a(32005),st=a(65750);st.kL.register(st.Dx,st.u,st.De,st.ZL,st.uw,st.f$,st.qi);var rt={name:"Marks",created(){this.chartData.datasets[0].data[0]=this.total.out_of_100,this.chartData.datasets[0].data[1]=this.total.out_of_90,this.chartData.datasets[0].data[2]=this.total.zero,this.chartData.datasets[0].data[3]=this.total.freezed,this.chartData.datasets[0].data[4]=this.total.others},components:{Doughnut:at.$I},props:{total:{type:[Object],required:!0}},data(){return{chartData:{labels:["100","90","صفر","تجميد","غير ذلك"],datasets:[{label:"عدد السفراء",data:[],backgroundColor:["#22803f","#192f36","#831018","#D0ECFF","#CAE0CD"],hoverOffset:4}]},chartOptions:{responsive:!0}}}};const it=(0,M.Z)(rt,[["render",et]]);var nt=it,ot=a(49963);const ct={class:"col-12"},lt={class:"card card-block card-stretch card-height"},dt={class:"card-header"},ut={class:"d-flex justify-content-between flex-wrap"},ht=(0,s._)("h4",{class:"card-title"},"الأطروحات والاقتباسات",-1),mt={class:"dropdown w-100"},pt=(0,s._)("option",{class:"dropdown-item",value:"current",selected:""}," هذا الأسبوع ",-1),_t=(0,s._)("option",{class:"dropdown-item",value:"previous"}," الاسبوع السابق ",-1),gt=(0,s._)("option",{class:"dropdown-item",value:"in_a_month"}," خلال الشهر ",-1),vt=[pt,_t,gt],yt={class:"card-body"},wt={key:1,class:"d-flex justify-content-center align-items-center"},ft={class:"text-muted"},kt={key:0},bt={key:1};function At(t,e,a,r,i,n){const o=(0,s.up)("PieChart");return(0,s.wg)(),(0,s.iD)("div",ct,[(0,s._)("div",lt,[(0,s._)("div",dt,[(0,s._)("div",ut,[ht,(0,s._)("div",mt,[(0,s.wy)((0,s._)("select",{class:"form-select",onChange:e[0]||(e[0]=t=>n.thesesAndScreensByWeek()),"onUpdate:modelValue":e[1]||(e[1]=t=>i.weekFilter=t)},vt,544),[[ot.bM,i.weekFilter]])])])]),(0,s._)("div",yt,[i.theses||i.screenshots?((0,s.wg)(),(0,s.j4)(o,{key:0,data:n.pie_data,options:i.pie_options},null,8,["data","options"])):((0,s.wg)(),(0,s.iD)("div",wt,[(0,s._)("h4",ft,[(0,s.Uk)(" لا يوجد أطروحات لهذا "),"in_a_month"==i.weekFilter?((0,s.wg)(),(0,s.iD)("span",kt,"الشهر")):((0,s.wg)(),(0,s.iD)("span",bt,"الأسبوع"))])]))])])])}var xt=a(96596),$t=a(22658),Dt={name:"Thsese And Quotes Statistics",created(){this.theses=this.total_theses,this.screenshots=this.total_screenshot},props:{total_theses:{required:!0},total_screenshot:{required:!0}},components:{PieChart:xt.Z},data(){return{theses:0,screenshots:0,weekFilter:"current",pie_options:{responsive:!0,maintainAspectRatio:!1}}},methods:{async thesesAndScreensByWeek(){try{const t=await $t.Z.thesesAndScreensByWeek(this.$route.params.group_id,this.weekFilter);this.theses=t.total_thesis,this.screenshots=t.total_screenshot}catch(t){console.log("[Group ThseseAndQuotes] error",t)}}},computed:{pie_data(){let t={labels:["الأطروحات","الاقتباسات"],datasets:[{backgroundColor:["#278036","#1D1A55"],data:[]}]};return this.theses&&(t.datasets[0].data[0]=this.theses),this.screenshots&&(t.datasets[0].data[1]=this.screenshots),t}}};const Ct=(0,M.Z)(Dt,[["render",At]]);var jt=Ct;const Zt={class:"col-12"},St={class:"card card-block card-stretch card-height"},Ft={class:"card-header"},qt={class:"d-flex justify-content-between flex-wrap"},Mt=(0,s._)("h4",{class:"card-title"},"احصائيات حسب الشهر",-1),Wt={class:"dropdown w-100"},Gt=(0,s._)("option",{class:"dropdown-item",value:"current",selected:""}," هذا الشهر ",-1),zt=(0,s._)("option",{class:"dropdown-item",value:"previous"}," الشهر السابق ",-1),Ot=[Gt,zt],Bt={class:"card-body"},Tt={key:1,class:"d-flex justify-content-center align-items-center"},Lt=(0,s._)("h4",{class:"text-muted"},"لا يوجد احصائيات لهذا الشهر",-1),Rt=[Lt];function Nt(t,e,a,r,i,n){const o=(0,s.up)("LineChartGenerator");return(0,s.wg)(),(0,s.iD)("div",Zt,[(0,s._)("div",St,[(0,s._)("div",Ft,[(0,s._)("div",qt,[Mt,(0,s._)("div",Wt,[(0,s.wy)((0,s._)("select",{class:"form-select",onChange:e[0]||(e[0]=t=>n.userMonthAchievement()),"onUpdate:modelValue":e[1]||(e[1]=t=>i.monthFilter=t)},Ot,544),[[ot.bM,i.monthFilter]])])])]),(0,s._)("div",Bt,[i.month_achievement?((0,s.wg)(),(0,s.j4)(o,{key:0,data:n.line_data,options:i.line_option},null,8,["data","options"])):((0,s.wg)(),(0,s.iD)("div",Tt,Rt))])])])}st.kL.register(st.Dx,st.u,st.De,st.ZL,st.uw,st.f$,st.qi,st.od,st.jn);var It={name:"GroupMonthStatistics",created(){this.month_achievement=this.monthAchievement,this.month_title=this.monthTitle},props:{monthAchievement:{type:[Object],default:null},monthTitle:{type:[String],required:!0}},components:{LineChartGenerator:at.x1},data(){return{month_achievement:[],month_title:"شهر",monthFilter:"current",line_option:{responsive:!0,maintainAspectRatio:!1}}},methods:{async userMonthAchievement(){try{const t=await $t.Z.monthAchievement(this.$route.params.group_id,this.monthFilter);this.month_title=t.month_achievement_title,this.month_achievement=t.month_achievement}catch(t){console.log(t),404==t.response.data.statusCode&&(F.Z.toggleToast("لا يوجد احصائيات لهذا الشهر","error"),this.monthFilter="current")}}},computed:{formated_month_title(){let t=this.month_title.split(" ");return t[t.length-1]},line_data(){let t={labels:[" ","الأول","الثاني","الثالث","الرابع","الخامس"],datasets:[{label:"يناير",data:[],fill:!1,borderColor:"#1D1A55",tension:.1}]};return t.labels=Object.keys(this.month_achievement),t.datasets[0].data=Object.values(this.month_achievement),t.datasets[0].label=this.formated_month_title,t.labels.unshift(""),t.datasets[0].data.unshift(50),t}}};const Ut=(0,M.Z)(It,[["render",Nt]]);var Pt=Ut,Et={name:"GroupStatistics",components:{Marks:G,MostRead:H,Achievement:nt,ThseseAndQuotes:jt,GroupMonth:Pt},async created(){this.statistics=await $t.Z.statistics(this.$route.params.group_id),console.log("[GroupStatistics] statistics",this.statistics)},data(){return{statistics:null}},computed:{noStatistics(){return!(this.statistics.total.out_of_100||this.statistics.total.out_of_90||this.statistics.total.zero||this.statistics.total.freezed||this.statistics.total.others)}},methods:{}};const Qt=(0,M.Z)(Et,[["render",i]]);var Vt=Qt}}]);
//# sourceMappingURL=3854.2abb77d8.js.map