{"version":3,"file":"js/6062.8bf39cb9.js","mappings":"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","sources":["webpack://Osboha180/./src/API/services/friend.service.js","webpack://Osboha180/./src/API/services/profile.images.service.js","webpack://Osboha180/./src/views/User/Friends/Requests.vue","webpack://Osboha180/./src/views/User/Friends/Requests.vue?ca95"],"sourcesContent":["import { api } from \"../Intercepter\";\n\nclass FriendService {\n\n  /**\n  * list all friends for specific user.\n  * @param user id\n  */\n\n  async getAllFriends(user_id) {\n    try {\n      const friends = await api.get(`friends/user/${user_id}`);\n      return friends.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n  * get all friend requests for auth user.\n  */\n\n  async getFriendsRequests() {\n    try {\n      const requests = await api.get(`/friends/un-accepted`);\n      return requests.data.data;\n    } catch (error) {\n      return error;\n\n    }\n  }\n\n  /**\n  * create Friendship between auth and another user.\n  *  @param friend id\n  */\n\n  async create(friend_id) {\n    try {\n      return await api.post(\"/friends/create\", { friend_id });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async getFriendshipById(friendship_id) {\n    try {\n      const friendship = await api.post(\"/friends/show\", { friendship_id });\n      return friendship.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n  * accept Friendship.\n  *  @param  Friendship id\n  */\n\n  async accept(friendship_id) {\n    try {\n      const friendship = await api.get(`/friends/accept/${friendship_id}`);\n      return friendship.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n  * delete Friendship between 2 users.\n  *  @param  user id, friend id\n  */\n\n  async delete(user_id, friend_id) {\n    const pivot = new FormData();\n    pivot.append(\"user_id\", user_id);\n    pivot.append(\"friend_id\", friend_id);\n    try {\n      const response = await api.post(`/friends/delete`, pivot);\n      return response.data;\n    } catch (error) {\n      return error;\n    }\n  }\n}\n\nexport default new FriendService();\n","import { baseURL } from \"../Intercepter\";\r\n\r\nclass profileImagesService {\r\n  /**\r\n   * get profile picture or cover.\r\n   *  @param  image size, image name, profile id\r\n   * @return image url\r\n   */\r\n  resolve_porfile_img(size, imageName, profile_id) {\r\n    let image = size + \"_\" + imageName;\r\n    // const url = `${baseURL}/profile-image?fileName=${image}&profileID=${profile_id}`\r\n    const url = `${baseURL}/profile-image/${profile_id}/${image}`;\r\n    return url;\r\n  }\r\n}\r\n\r\nexport default new profileImagesService();\r\n","<template>\r\n    <div class=\"row\">\r\n        <div class=\"col-sm-12\">\r\n            <iq-card>\r\n                <template v-slot:headerTitle>\r\n                    <h4 class=\"card-title\">طلبات الصداقة</h4>\r\n                </template>\r\n                <template v-slot:body>\r\n                    <ul class=\"request-request request-inline m-0 p-0\" v-if=\"requestsLoaded.length > 0\">\r\n                        <li class=\"d-flex align-items-center  justify-content-between flex-wrap\"\r\n                            v-for=\"(request, index1) in requestsLoaded\" :key=\"index1\">\r\n                            <div class=\"user-img img-fluid flex-shrink-0\">\r\n                                <img v-if=\"request.user.user_profile.profile_picture\"\r\n                                :src=\"resolve_porfile_img('60x60', request.user.user_profile.profile_picture, request.user.user_profile.id)\"\r\n                                alt=\"profile-img\" class=\"rounded-circle avatar-40\" :title=\"request.name\" />\r\n                            <img v-else\r\n                                :src=\"resolve_porfile_img('60x60', 'ananimous_' + request.user.gender + '.png', 'ananimous')\"\r\n                                alt=\"profile-img\" :title=\"request.name\" class=\"rounded-circle avatar-40\">\r\n                            </div>\r\n                            <div class=\"flex-grow-1 ms-3\">\r\n                                <router-link :to=\"{ name: 'user.profile', params: { user_id: request.user.id } }\">\r\n                                    <h6>{{ request.user.name }}</h6>\r\n                                </router-link>\r\n                            </div>\r\n                            <div class=\"d-flex align-items-center mt-2 mt-md-0\">\r\n                                <div class=\"confirm-click-btn\">\r\n                                    <a role=\"button\" class=\"me-3 btn btn-primary rounde d-flex align-items-center\" @click=\"acceptrequest(request.id)\">\r\n                                        <span class=\"material-symbols-outlined md-18 me-1\">\r\n                                            person_add\r\n                                        </span>\r\n                                        قبول\r\n                                    </a>\r\n                                    <a href=\"@/app/profile.html\" class=\"me-3 btn btn-primary rounded request-btn\"\r\n                                        style=\"display: none;\"></a>\r\n                                </div>\r\n                                <a role=\"button\" class=\"btn btn-secondary rounded\" data-extra-toggle=\"delete\"\r\n                                    data-closest-elem=\".item\" @click=\"deleterequest(request.user_id,request.friend_id)\">حذف</a>\r\n                            </div>\r\n                        </li>\r\n                        <li class=\"d-block text-center mb-0 pb-0\" v-if=\"friendRequest.length > length\">\r\n                            <a class=\"me-3 btn\" role=\"button\" @click=\"loadMore()\">عرض المزيد</a>\r\n                        </li>\r\n                    </ul>\r\n                    <div class=\"col-sm-12\" v-else>\r\n                    <iq-card class=\"iq-card\">\r\n                        <div class=\"iq-card-body p-0\">\r\n                            <div class=\"image-block text-center\">\r\n                                <img src=\"@/assets/images/main/no-friend-req.png\" class=\"img-fluid rounded w-50\"\r\n                                    alt=\"blog-img\">\r\n                            </div>\r\n                            <h4 class=\"text-center mt-3 mb-3\">لا يوجد طلبات صداقة</h4>\r\n                        </div>\r\n                    </iq-card>\r\n                </div>\r\n\r\n                </template>\r\n            </iq-card>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport FriendServices from '@/API/services/friend.service'\r\nimport profileImagesService from '@/API/services/profile.images.service'\r\n\r\nexport default {\r\n    name: 'FriendRequest',\r\n    async created() {\r\n        this.friendRequest = await FriendServices.getFriendsRequests();\r\n    },\r\n    data() {\r\n        return {\r\n            friendRequest: [],\r\n            length: 10,\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        /**\r\n        * get profile picture or cover.\r\n        *  @param  image size, image name, profile id\r\n        * @return image url\r\n        */\r\n        resolve_porfile_img(size, imageName, profile_id) {\r\n            return profileImagesService.resolve_porfile_img(size, imageName, profile_id);\r\n        },\r\n\r\n        /**\r\n        * acceot friend request.\r\n        *  @param  request id\r\n        */\r\n        acceptrequest(id) {\r\n            const swalWithBootstrapButtons = this.$swal.mixin({\r\n                customClass: {\r\n                    confirmButton: 'btn btn-primary btn-lg',\r\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\r\n                },\r\n                buttonsStyling: false\r\n            })\r\n\r\n            swalWithBootstrapButtons.fire({\r\n                title: 'هل أنت متأكد؟',\r\n                text: \"لا يمكنك التراجع عن هذا الاجراء\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'نعم، قم بالقبول',\r\n                cancelButtonText: 'تراجع  ',\r\n                showClass: {\r\n                    popup: 'animate__animated animate__zoomIn'\r\n                },\r\n                hideClass: {\r\n                    popup: 'animate__animated animate__zoomOut'\r\n                }\r\n            })\r\n                .then((willDelete) => {\r\n                    if (willDelete.isConfirmed) {\r\n                        FriendServices.accept(id)\r\n                            .then(response => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'تم القبول',\r\n                                    text: 'تم قبول طلب الصداقة',\r\n                                    icon: 'success',\r\n                                    showClass: {\r\n                                        popup: 'animate__animated animate__zoomIn'\r\n                                    },\r\n                                    hideClass: {\r\n                                        popup: 'animate__animated animate__zoomOut'\r\n                                    }\r\n                                })\r\n                                setTimeout(function () {\r\n                                    location.reload(true);\r\n                                }, 2000);\r\n                            })\r\n                            .catch(error => {\r\n                                console.log(error)\r\n                            })\r\n                    }\r\n                })\r\n        },\r\n        /**\r\n        * delete friend request.\r\n        *  @param  user id, friend id\r\n        */\r\n        deleterequest(user_id,friend_id) {\r\n            const swalWithBootstrapButtons = this.$swal.mixin({\r\n                customClass: {\r\n                    confirmButton: 'btn btn-primary btn-lg',\r\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\r\n                },\r\n                buttonsStyling: false\r\n            })\r\n\r\n            swalWithBootstrapButtons.fire({\r\n                title: 'هل أنت متأكد؟',\r\n                text: \"لا يمكنك التراجع عن هذا الاجراء\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'نعم، قم بالحذف',\r\n                cancelButtonText: 'تراجع  ',\r\n                showClass: {\r\n                    popup: 'animate__animated animate__zoomIn'\r\n                },\r\n                hideClass: {\r\n                    popup: 'animate__animated animate__zoomOut'\r\n                }\r\n            })\r\n                .then((willDelete) => {\r\n                    if (willDelete.isConfirmed) {\r\n                        FriendServices.delete(user_id,friend_id)\r\n                            .then(response => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'تم الحذف',\r\n                                    text: 'تم حذف طلب الصداقة',\r\n                                    icon: 'success',\r\n                                    showClass: {\r\n                                        popup: 'animate__animated animate__zoomIn'\r\n                                    },\r\n                                    hideClass: {\r\n                                        popup: 'animate__animated animate__zoomOut'\r\n                                    }\r\n                                })\r\n                                setTimeout(function () {\r\n                                    location.reload(true);\r\n                                }, 2000);\r\n                            })\r\n                            .catch(error => {\r\n                                console.log(error)\r\n                            })\r\n                    }\r\n                })\r\n        },\r\n        \r\n        /**\r\n        * load more request.\r\n        */\r\n        loadMore() {\r\n            if (this.length > this.friendRequest.length) return;\r\n            this.length = this.length + 10;\r\n        },\r\n    },\r\n    computed: {\r\n        requestsLoaded() {\r\n            return this.friendRequest.slice(0, this.length);\r\n        },\r\n    },\r\n\r\n}\r\n</script>\r\n  ","import { render } from \"./Requests.vue?vue&type=template&id=7a1e4342\"\nimport script from \"./Requests.vue?vue&type=script&lang=js\"\nexport * from \"./Requests.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\someO\\\\Desktop\\\\vue\\\\osboha2022\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["FriendService","user_id","friends","api","data","error","requests","friend_id","friendship_id","friendship","pivot","FormData","append","response","profileImagesService","resolve_porfile_img","size","imageName","profile_id","image","url","baseURL","class","_createElementVNode","href","style","src","_imports_0","alt","_createElementBlock","_createVNode","_component_iq_card","headerTitle","_hoisted_3","body","$options","length","_Fragment","_renderList","request","index1","key","user","user_profile","profile_picture","id","title","name","gender","_component_router_link","to","params","_toDisplayString","role","onClick","_hoisted_12","_hoisted_13","_hoisted_14","$data","_hoisted_17","async","this","friendRequest","FriendServices","methods","acceptrequest","swalWithBootstrapButtons","$swal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","text","icon","showCancelButton","confirmButtonText","cancelButtonText","showClass","popup","hideClass","then","willDelete","isConfirmed","setTimeout","location","reload","catch","console","log","deleterequest","loadMore","computed","requestsLoaded","slice","__exports__","render"],"sourceRoot":""}