{"version":3,"file":"js/5297.9d0af581.js","mappings":"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","sources":["webpack://Osboha180/./src/views/OsbohaMain/Post/PostView.vue","webpack://Osboha180/./src/views/OsbohaMain/Post/PostView.vue?58be"],"sourcesContent":["<template>\n  <div class=\"row\">\n    <div class=\"col-lg-8 row m-0 p-0\">\n      <!-- ##### Display Posts ##### -->\n      <div\n        class=\"d-flex align-items-center justify-content-center\"\n        v-if=\"emptyMessage\"\n      >\n        <div class=\"me-2\">\n          <font-awesome-icon :icon=\"['fas', 'circle-exclamation']\" size=\"xl\" />\n        </div>\n        <div>{{ emptyMessage }}</div>\n      </div>\n      <div class=\"col-sm-12 text-center\" v-else-if=\"loading\">\n        <img\n          :src=\"require('@/assets/images/page-img/page-load-loader.gif')\"\n          alt=\"loader\"\n          style=\"height: 100px\"\n        />\n      </div>\n      <template v-else>\n        <Post :post=\"post\" />\n        <div class=\"col-sm-12\">\n          <div\n            class=\"card card-block card-stretch card-height blog user-comment\"\n          >\n            <div class=\"card-header d-flex justify-content-between\">\n              <div class=\"header-title\">\n                <h4 class=\"card-title\">التعليقات</h4>\n              </div>\n            </div>\n            <div class=\"card-body\" ref=\"commentsSectionBody\">\n              <div class=\"row\">\n                <!-- display comments -->\n                <LazyLoadedComments\n                  v-if=\"post\"\n                  :post=\"post\"\n                  :userId=\"\n                    $route.params.user_id\n                      ? parseInt($route.params.user_id)\n                      : null\n                  \"\n                  :loadOnCreate=\"true\"\n                  ref=\"lazyLoadedCommentsRef\"\n                />\n                <CreateComment\n                  ref=\"SinglePostCreateComment\"\n                  v-if=\"post?.allow_comments\"\n                  type=\"comment\"\n                  class=\"flex-grow-1\"\n                  :post_id=\"post.id\"\n                  @addComment=\"addComment\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n<script>\nimport PostService from \"@/API/services/post.service\";\nimport Post from \"@/components/post/Post.vue\";\nimport CreateComment from \"@/components/comment/CreateComment.vue\";\nimport LazyLoadedComments from \"@/components/comment/LazyLoadedComments.vue\";\nimport helper from \"@/utilities/helper\";\nexport default {\n  name: \"PostView\",\n  components: {\n    Post,\n    CreateComment,\n    LazyLoadedComments,\n  },\n  provide() {\n    return {\n      focusComment: this.focusComment,\n      incrementCommentsCount: () => {\n        this.post.comments_count++;\n      },\n      decrementCommentsCount: () => {\n        this.post.comments_count--;\n      },\n      reactToPost: this.reactToPost,\n    };\n  },\n  data() {\n    return {\n      post: null,\n      loading: false,\n      emptyMessage: \"\",\n    };\n  },\n  async created() {\n    await this.getPost();\n  },\n  methods: {\n    async getPost() {\n      if (this.loading) return;\n\n      this.loading = true;\n      try {\n        const response = await PostService.getPostById(\n          this.$route.params.post_id\n        );\n        this.post = response.data;\n      } catch (error) {\n        helper.toggleToast(\n          \"حدث خطأ أثناء تحميل المنشور, الرجاء المحاولة مرة أخرى\",\n          \"error\"\n        );\n      } finally {\n        this.loading = false;\n      }\n    },\n    focusComment() {\n      if (this.post.allow_comments) {\n        this.$refs.commentsSectionBody.scrollTop =\n          this.$refs.commentsSectionBody.scrollHeight;\n        this.$refs.SinglePostCreateComment.focusInput();\n      } else {\n        helper.toggleToast(\"لا يمكنك التعليق على هذا المنشور الآن\", \"error\");\n      }\n    },\n    addComment(comment, comment_id) {\n      this.$refs.lazyLoadedCommentsRef.addComment(comment, comment_id);\n      if (!comment_id) {\n        this.$nextTick(() => {\n          //scroll to bottom of page\n          window.scrollTo(0, document.body.scrollHeight);\n        });\n      }\n    },\n    reactToPost(post_id, status) {\n      if (status) {\n        this.post.reactions_count++;\n        this.post.reacted_by_user = true;\n      } else {\n        this.post.reactions_count--;\n        this.post.reacted_by_user = false;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import { render } from \"./PostView.vue?vue&type=template&id=5ddb46cb\"\nimport script from \"./PostView.vue?vue&type=script&lang=js\"\nexport * from \"./PostView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\someO\\\\Desktop\\\\vue\\\\osboha2022\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","ref","_createElementBlock","$data","_createVNode","_component_font_awesome_icon","icon","size","_toDisplayString","src","require","alt","style","_Fragment","key","_component_Post","post","_hoisted_9","_createBlock","_component_LazyLoadedComments","userId","_ctx","params","user_id","parseInt","loadOnCreate","allow_comments","_component_CreateComment","type","post_id","id","onAddComment","$options","name","components","Post","CreateComment","LazyLoadedComments","provide","focusComment","this","incrementCommentsCount","comments_count","decrementCommentsCount","reactToPost","data","loading","emptyMessage","async","getPost","methods","response","PostService","$route","error","helper","$refs","commentsSectionBody","scrollTop","scrollHeight","SinglePostCreateComment","focusInput","addComment","comment","comment_id","lazyLoadedCommentsRef","$nextTick","window","scrollTo","document","body","status","reactions_count","reacted_by_user","__exports__","render"],"sourceRoot":""}